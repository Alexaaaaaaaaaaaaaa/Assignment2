import { Start as gR } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as gS, MarkResizable as gT, SetOptional as gU, Force as gV, GetOptional as gW, CreateFuncWithArgs as gX, DeleteEmptyFields as gY, Create as gZ, OnLoad as g0 } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(g1){ return"Dispose"in g1;}
function b(){ const g1=u0034.EmbedView(K((g7) => g7.$==1?q():r(), e().View));const g2=c(d(), {$:0});const g3=new n("New_1");const g4=(g3.h.push(new v("url_home", g2)),g3);const g5=(g4.h.push(new u("maincontainer", g1)),g4);const g6=Z(g5.k, g5.h, []);g5.i=new t(g6[1], c_(g6[0]));}
function c(g1, g2){ return"#"+u0035(g1, g2);}
function d(){ return J.router;}
function e(){ return J.currentPage;}
function f(g1, g2){ g(g1, g2);return g1[g2];}
function g(g1, g2){ if(g2<0||g2>=g1.length)j("Index was outside the bounds of the array.");}
function h(g1){ return g1.dims===2?g1.length*g1.length:g1.length;}
function i(g1, g2, g3){ g(g1, g2);g1[g2]=g3;}
function j(g1){ throw new Error(g1);}
function k(g1){ return[g1.K, g1.V];}
function l(g1, g2){ const g3=1+g2-g1;return g3<=0?[]:cU(g3, (g4) => g4+g1);}
let m=gS((g1) => class g2 { static { m=g1(this);} Equals(g3){ return this===g3;} GetHashCode(){ return -1;} });
let n=gS((g1) => class g2 extends m { static { n=g1(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(g3){ if(g3=="New_1"){ let g4;super();this.i=null;this.k=(g4=H(),String(g4));this.h=gT([]);gU(this, "s", null);} } });
let o=gS((g1) => class g2 extends m { static { o=g1(this);} static Value(g3){ return g3.ValueObj;} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(g3, g4){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return fd("");} });
let p=gS((g1) => class g2 { static { p=g1(this);} });
function q(){ const g1=new n("New_1");const g2=Z(g1.k, g1.h, []);const g3=new t(g2[1], U(g2[0]));let g4=(g1.i=g3,g3);return g4.Doc;}
function r(){ const g1=X.Create_1("");const g2=g1.View;const g3=new n("New_1");const g4=(g3.h.push(Y(g3.k, "onsend", () => g3.i, (g9) => { const g_=o.Value(g9.Vars.Hole("rent")).Get();g1.Set(u0030(o.Value(g9.Vars.Hole("income")).Get()-(g_+o.Value(g9.Vars.Hole("utilities")).Get()+o.Value(g9.Vars.Hole("vehicle")).Get()+o.Value(g9.Vars.Hole("groceries")).Get()+o.Value(g9.Vars.Hole("toiletries")).Get()+o.Value(g9.Vars.Hole("internet")).Get()+o.Value(g9.Vars.Hole("cable")).Get()+o.Value(g9.Vars.Hole("phone")).Get()+o.Value(g9.Vars.Hole("debt")).Get()+o.Value(g9.Vars.Hole("membership")).Get()+o.Value(g9.Vars.Hole("health")).Get()+o.Value(g9.Vars.Hole("travel")).Get()+o.Value(g9.Vars.Hole("other")).Get())));})),g3);const g5=(g4.h.push(new bB("balance", g2)),g4);const g6=Z(g5.k, g5.h, [["rent", 1, null], ["income", 1, null], ["utilities", 1, null], ["vehicle", 1, null], ["groceries", 1, null], ["toiletries", 1, null], ["internet", 1, null], ["cable", 1, null], ["phone", 1, null], ["debt", 1, null], ["membership", 1, null], ["health", 1, null], ["travel", 1, null], ["other", 1, null]]);const g7=new t(g6[1], V(g6[0]));let g8=(g5.i=g7,g7);return g8.Doc;}
let s=gS((g1) => class g2 extends m { static { s=g1(this);} });
let t=gS((g1) => class g2 extends m { static { t=g1(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} Hole(g3){ return this.allVars.Item(g3);} SetAnchorRoot(g3){ this.anchorRoot=g3;} constructor(g3, g4){ super();this.doc=g4;this.allVars=g3.$==0?g3.$0:j("Should not happen");this.anchorRoot=null;} });
let u=gS((g1) => { gV(o);return class g2 extends o { static { u=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Value(){ return this.fillWith;} get Name(){ return this.name;} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let v=gS((g1) => { gV(o);return class g2 extends o { static { v=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return fd(this.fillWith);} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
function w(g1, g2){ if(g1===g2)return true;else { const g3=typeof g1;if(g3=="object"){ if(g1===null||g1===void 0||g2===null||g2===void 0||!w(typeof g2, "object"))return false;else if("Equals"in g1)return g1.Equals(g2);else if("Equals"in g2)return false;else if(g1 instanceof Array&&g2 instanceof Array)return y(g1, g2);else if(g1 instanceof Date&&g2 instanceof Date)return z(g1, g2);else { const g4=[true];let g5;for(var g7 in g1)if(((g8) => { g4[0]=!g1.hasOwnProperty(g8)||g2.hasOwnProperty(g8)&&w(g1[g8], g2[g8]);return!g4[0];})(g7))break;if(g4[0]){ let g6;for(var g8 in g2)if(((g9) => { g4[0]=!g2.hasOwnProperty(g9)||g1.hasOwnProperty(g9);return!g4[0];})(g8))break;} return g4[0];} } else return g3=="function"&&("$Func"in g1?g1.$Func===g2.$Func&&g1.$Target===g2.$Target:"$Invokes"in g1&&"$Invokes"in g2&&y(g1.$Invokes, g2.$Invokes));} }
function x(g1){ const g2=typeof g1;return g2=="function"?0:g2=="boolean"?g1?1:0:g2=="number"?g1:g2=="string"?A(g1):g2=="object"?g1==null?0:g1 instanceof Array?B(g1):C(g1):0;}
function y(g1, g2){ let g3;let g4;if(h(g1)===h(g2)){ g3=true;g4=0;while(g3&&g4<h(g1)){!w(f(g1, g4), f(g2, g4))?g3=false:void 0;g4=g4+1;} return g3;} else return false;}
function z(g1, g2){ return g1.getTime()===g2.getTime();}
function A(g1){ let g2;if(g1===null)return 0;else { g2=5381;for(let g3=0, g4=g1.length-1;g3<=g4;g3++)g2=D(g2, g1[g3].charCodeAt());return g2;} }
function B(g1){ let g2=-34948909;for(let g3=0, g4=h(g1)-1;g3<=g4;g3++)g2=D(g2, x(f(g1, g3)));return g2;}
function C(g1){ if("GetHashCode"in g1)return g1.GetHashCode();else { const g2=[0];let g3;for(var g4 in g1)if(((g5) => { g2[0]=D(D(g2[0], A(g5)), x(g1[g5]));return false;})(g4))break;return g2[0];} }
function D(g1, g2){ return(g1<<5)+g1+g2;}
function E(g1, g2){ if(g1===g2)return 0;else { const g3=typeof g1;switch(g3=="function"?1:g3=="boolean"?2:g3=="number"?2:g3=="string"?2:g3=="object"?3:0){ case 0:return typeof g2=="undefined"?0:-1;case 1:return j("Cannot compare function values.");case 2:return g1<g2?-1:1;case 3:if(g1===null)return -1;else if(g2===null)return 1;else if("CompareTo"in g1)return g1.CompareTo(g2);else if("CompareTo0"in g1)return g1.CompareTo0(g2);else if(g1 instanceof Array&&g2 instanceof Array)return F(g1, g2);else if(g1 instanceof Date&&g2 instanceof Date)return G(g1, g2);else { const g4=[0];let g5;for(var g7 in g1)if(((g8) =>!g1.hasOwnProperty(g8)?false:!g2.hasOwnProperty(g8)?(g4[0]=1,true):(g4[0]=E(g1[g8], g2[g8]),g4[0]!==0))(g7))break;if(g4[0]===0){ let g6;for(var g8 in g2)if(((g9) =>!g2.hasOwnProperty(g9)?false:!g1.hasOwnProperty(g9)&&(g4[0]=-1,true))(g8))break;} return g4[0];} break;} } }
function F(g1, g2){ let g3;let g4;if(h(g1)<h(g2))return -1;else if(h(g1)>h(g2))return 1;else { g3=0;g4=0;while(g3===0&&g4<h(g1)){ g3=E(f(g1, g4), f(g2, g4));g4=g4+1;} return g3;} }
function G(g1, g2){ return E(g1.getTime(), g2.getTime());}
function H(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (g1) => { const g2=Math.random()*16|0;const g3=g1=="x"?g2:g2&3|8;return g3.toString(16);});}
function I(g1, g2){ return{Parse:g1, Write:g2};}
let J=gS((g1) => class g2 { static { J=g1(this);} static currentPage;static router;static { this.router=W();this.currentPage=u0039({$:0}, d());} });
function K(g1, g2){ return L(() => bc(g1, g2()));}
function L(g1){ const g2={c:null, o:g1};return() => { let g3=g2.c;if(g3===null){ g3=g2.o();g2.c=g3;const g4=g3.s;if(g4!=null&&g4.$==0)g2.o=null;else bd(g3, () => { g2.c=null;});return g3;} else return g3;};}
function M(g1, g2){ return N(K(g1, g2));}
function N(g1){ return L(() => bj(g1()));}
function O(g1, g2){ function g3(){ bk(g2(), g1, () => { ez().Fork(g3);});} ez().Fork(g3);}
function P(g1){ const g2={s:dB(g1)};return() => g2;}
function Q(g1, g2, g3, g4){ return L(() => bl(g1, g2(), g3(), g4()));}
function R(g1){ return L(() => bm(cC((g2) => g2(), g1)));}
function S(g1, g2, g3){ return L(() => bn(g1, g2(), g3()));}
function T(g1, g2){ return L(() => bo(g1(), g2()));}
function U(g1){ c$("index");return g1?da("index", u0032("stock"), g1):void 0;}
function V(g1){ c$("index");return g1?da("index", u0032("main"), g1):void 0;}
function W(){ return du(void 0, [[null, [[null, []]], []], [null, [[null, ["portfolios"]]], []]]);}
let X=gS((g1) => class g2 extends m { static { X=g1(this);} static Create_1(g3){ return new bA(false, {s:dA(g3, [])}, g3);} static { } });
function Y(g1, g2, g3, g4){ return new bC(g2, (g5) =>(g6) => { const g7=g3();g7.SetAnchorRoot(g5);return g4({Vars:g7, Anchors:g7, Target:g5, Event:g6});});}
function Z(g1, g2, g3){ const g4=new b8("New_5");const g5=new cx("New_3");const g6=dE(g2);try { while(g6.MoveNext()){ const g7=g6.Current;const g8=g7.Name;g5.SAdd(g8);g4.set_Item(g8, g7);} } finally { if(typeof g6=="object"&&a(g6))g6.Dispose();} return[cy(g2, bG((g9) => { const g_=g9[0];const g$=g9[1];const ha=g9[2];if(g5.Contains(g_))return null;else { const hb=g$===0?c0.GetOrAddHoleFor(g1, g_, () => { const hc=ha==null?null:u0032(ha.$0);let hd=X.Create_1(hc==null?"":hc.$0);return new c1(g_, hd);}):g$===1?c0.GetOrAddHoleFor(g1, g_, () => { const hc=ha==null?null:u0032(ha.$0);let hd=X.Create_1(hc==null?0:hc.$0);return new c3(g_, hd);}):g$===2?c0.GetOrAddHoleFor(g1, g_, () => { const hc=ha==null?null:u0032(ha.$0);let hd=X.Create_1(hc==null?false:hc.$0);return new c4(g_, hd);}):g$===3?c0.GetOrAddHoleFor(g1, g_, () => { const hc=ha==null?null:u0032(ha.$0);let hd=X.Create_1(hc==null?-8640000000000000:hc.$0);return new c5(g_, hd);}):g$===4?c0.GetOrAddHoleFor(g1, g_, () => new c6(g_, X.Create_1([]))):g$===5?c0.GetOrAddHoleFor(g1, g_, () => new c7(g_, X.Create_1(u0032(globalThis.document.querySelector("[ws-dom="+g_+"]"))))):g$===6?c0.GetOrAddHoleFor(g1, g_, () => { const hc=ha==null?null:u0032(ha.$0);let hd=X.Create_1(hc==null?[]:hc.$0);return new c8(g_, hd);}):j("Invalid value type");g4.set_Item(g_, hb);return u0032(hb);} }, g3)), {$:0, $0:g4}];}
function u0030(g1){ if(g1===null)return"null";else { const g2=typeof g1;if(g2=="string")return"\""+g1+"\"";else if(g2=="object"){ if(g1 instanceof Array)return"[|"+bX("; ", bF(u0030, g1))+"|]";else { const g3=String(g1);return g3=="[object Object]"?"{"+bX("; ", bF((g4) => g4[0]+" = "+u0030(g4[1]), bD(g1)))+"}":g3;} } else return String(g1);} }
function u0031(g1){ return g1==null?"":g1;}
function u0032(g1){ return{$:1, $0:g1};}
function u0033(g1){ const g2={};const g3=dE(g1);try { while(g3.MoveNext()){ const g4=g3.Current;g2[g4[0]]=g4[1];} } finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} return g2;}
let u0034=gS((g1) => class g2 extends m { static { u0034=g1(this);} docNode;updates;static EmbedView(g3){ const g4=b9();return u0034.Mk(ct(g4), K(() => { }, M((g5) => { b_(g4, g5.docNode);return g5.updates;}, g3)));} static Mk(g3, g4){ return new g2(g3, g4);} static RunInPlace(g3, g4, g5){ const g6=b$(g4, g5.docNode);O(eh()||eo()?ep(ca(g3, g6, g5.docNode)):() => { cb(g3, g6, g5.docNode);}, g5.updates);} static get Empty(){ return u0034.Mk(null, P());} static TextNode(g3){ return u0034.Mk(cv(globalThis.document.createTextNode(g3)), P());} static TextView(g3){ const g4=ck();return u0034.Mk(cw(g4), K((g5) => { cl(g4, g5);}, g3));} constructor(g3, g4){ super();this.docNode=g3;this.updates=g4;} });
function u0035(g1, g2){ const g3=u0036(g1, g2);return g3==null?"":g3.$0.ToLink();}
function u0036(g1, g2){ const g3=g1.Write(g2);return g3==null?null:u0032(dt.Combine(g3.$0));}
function u0037(g1, g2){ return cE((g3) => g3[0].Segments.$==0?u0032(g3[1]):null, g1.Parse(g2));}
function u0038(g1, g2){ return"#"+u0035(g1, g2);}
function u0039(g1, g2){ const g3=X.Create_1(void 0);$(g3, g1, g2);return g3;}
function $(g1, g2, g3){ const g4=(g7) => u0037(g3, dt.FromHash(g7, u0032(true)));const g5=() => ba(g4, g2);const g6=(g7) => { if(!w(g1.Get(), g7))g1.Set(g7);};g6(g5());globalThis.addEventListener("popstate", () => g6(g5()), false);globalThis.addEventListener("hashchange", () => g6(g5()), false);globalThis.document.body.addEventListener("click", (g7) => { let g8;const g9=bb(g7.target);if(g9==null)g8=null;else { const g_=g9.$0;g8=bY(g_, "#")?g4(g_):null;} return g8==null?null:(g6(g8.$0),g7.preventDefault());}, false);O((g7) => { if(!w(g7, g5())){ const g8=u0038(g3, g7);globalThis.history.pushState(null, null, g8);} }, g1.View);}
function ba(g1, g2){ const g3=globalThis.location.hash;const g4=g1(g3);return g4==null?((((g5) =>(g6) => g5("Failed to parse route: "+u0031(g6)))((g5) => { console.log(g5);}))(g3),g2):g4.$0;}
function bb(g1){ while(true){ if(g1.tagName=="A")return c2(g1.getAttribute("href"));else if(g1===globalThis.document.body)return null;else g1=g1.parentNode;} }
function bc(g1, g2){ const g3=g2.s;if(g3!=null&&g3.$==0)return{s:dB(g1(g3.$0))};else { const g4={s:dC([], [])};be(g2, (g5) => { bf(g4, g2, g1(g5));}, g4);return g4;} }
function bd(g1, g2){ const g3=g1.s;if(g3==null)g2();else g3!=null&&g3.$==2?g3.$1.push(g2):g3!=null&&g3.$==3?g3.$1.push(g2):void 0;}
function be(g1, g2, g3){ const g4=g1.s;if(g4==null)dw(g3);else g4!=null&&g4.$==2?(bg(g4.$1, g3),g2(g4.$0)):g4!=null&&g4.$==3?(g4.$0.push(g2),bg(g4.$1, g3)):g2(g4.$0);}
function bf(g1, g2, g3){ const g4=g2.s;if(g4!=null&&g4.$==0)bh(g1, g3);else bi(g1, g3);}
function bg(g1, g2){ g1.push(g2);if(g1.length%20===0){ const g3=g1.slice(0);fL(g1);for(let g5=0, g6=h(g3)-1;g5<=g6;g5++){ const g4=f(g3, g5);if(typeof g4=="object")(((g7) => { if(g7.s)g1.push(g7);})(g4));else(((g7) => { g1.push(g7);})(g4));} } else void 0;}
function bh(g1, g2){ const g3=g1.s;if(g3!=null&&g3.$==3){ g1.s=dB(g2);const g4=g3.$0;for(let g5=0, g6=h(g4)-1;g5<=g6;g5++)(f(g4, g5))(g2);} else void 0;}
function bi(g1, g2){ const g3=g1.s;if(g3!=null&&g3.$==3){ g1.s=dA(g2, g3.$1);const g4=g3.$0;for(let g5=0, g6=h(g4)-1;g5<=g6;g5++)(f(g4, g5))(g2);} else void 0;}
function bj(g1){ const g2={s:dC([], [])};be(g1, (g3) => { const g4=g3();be(g4, (g5) => { let g6;const g7=g4.s;if(g7!=null&&g7.$==0){ const g8=g1.s;g6=g8!=null&&g8.$==0;} else g6=false;if(g6)bh(g2, g5);else bi(g2, g5);}, g2);}, g2);return g2;}
function bk(g1, g2, g3){ const g4=g1.s;if(g4==null)g3();else g4!=null&&g4.$==2?(g4.$1.push(g3),g2(g4.$0)):g4!=null&&g4.$==3?(g4.$0.push(g2),g4.$1.push(g3)):g2(g4.$0);}
function bl(g1, g2, g3, g4){ const g5=g2.s;const g6=g3.s;const g7=g4.s;if(g5!=null&&g5.$==0)return g6!=null&&g6.$==0?g7!=null&&g7.$==0?{s:dB(g1(g5.$0, g6.$0, g7.$0))}:bq(g1, g5.$0, g6.$0, g4):g7!=null&&g7.$==0?br(g1, g5.$0, g7.$0, g3):bs(g1, g5.$0, g3, g4);else if(g6!=null&&g6.$==0)return g7!=null&&g7.$==0?bt(g1, g6.$0, g7.$0, g2):bu(g1, g6.$0, g2, g4);else if(g7!=null&&g7.$==0)return bv(g1, g7.$0, g2, g3);else { const g8={s:dC([], [])};const g9=() => { const g_=g8.s;if(!(g_!=null&&g_.$==0||g_!=null&&g_.$==2)){ const g$=bw(g2);const ha=bw(g3);const hb=bw(g4);if(g$!=null&&g$.$==1)if(ha!=null&&ha.$==1)if(hb!=null&&hb.$==1)if(g$.$0[1]&&ha.$0[1]&&hb.$0[1])bh(g8, g1(g$.$0[0], ha.$0[0], hb.$0[0]));else bi(g8, g1(g$.$0[0], ha.$0[0], hb.$0[0]));} };be(g2, g9, g8);be(g3, g9, g8);be(g4, g9, g8);return g8;} }
function bm(g1){ const g2=bK(g1);if(g2.length==0)return{s:dB([])};else { const g3={s:dC([], [])};const g4=[h(g2)-1];const g5=() => { if(g4[0]===0){ const g6=bF((g7) => { const g8=g7.s;return g8!=null&&g8.$==0?g8.$0:g8!=null&&g8.$==2?g8.$0:j("value not found by View.Sequence");}, g2);if(bJ((g7) => { const g8=g7.s;return g8!=null&&g8.$==0;}, g2))bh(g3, g6);else bi(g3, g6);} else g4[0]=g4[0]-1;};bP((g6) => { be(g6, g5, g3);}, g2);return g3;} }
function bn(g1, g2, g3){ const g4=g2.s;const g5=g3.s;if(g4!=null&&g4.$==0)return g5!=null&&g5.$==0?{s:dB(g1(g4.$0, g5.$0))}:bx(g1, g4.$0, g3);else if(g5!=null&&g5.$==0)return by(g1, g5.$0, g2);else { const g6={s:dC([], [])};const g7=() => { const g8=g6.s;if(!(g8!=null&&g8.$==0||g8!=null&&g8.$==2)){ const g9=bw(g2);const g_=bw(g3);if(g9!=null&&g9.$==1)if(g_!=null&&g_.$==1)if(g9.$0[1]&&g_.$0[1])bh(g6, g1(g9.$0[0], g_.$0[0]));else bi(g6, g1(g9.$0[0], g_.$0[0]));} };be(g2, g7, g6);be(g3, g7, g6);return g6;} }
function bo(g1, g2){ const g3=g1.s;const g4=g2.s;if(g3!=null&&g3.$==0)return g4!=null&&g4.$==0?{s:dB(null)}:g2;else if(g4!=null&&g4.$==0)return g1;else { const g5={s:dC([], [])};const g6=() => { const g7=g5.s;if(!(g7!=null&&g7.$==0||g7!=null&&g7.$==2)){ const g8=bw(g1);const g9=bw(g2);if(g8!=null&&g8.$==1)if(g9!=null&&g9.$==1)if(g8.$0[1]&&g9.$0[1])bh(g5, null);else bi(g5, null);} };be(g1, g6, g5);be(g2, g6, g5);return g5;} }
function bp(g1){ const g2=g1.s;if(g2==null)return g1;else if(g2!=null&&g2.$==2){ const g3={s:dA(g2.$0, [])};bz(g1, g3);return g3;} else if(g2!=null&&g2.$==3){ const g4={s:dC([], [])};be(g1, (g5) => { bf(g4, g1, g5);}, g4);return g4;} else return g1;}
function bq(g1, g2, g3, g4){ return bc((g5) => g1(g2, g3, g5), g4);}
function br(g1, g2, g3, g4){ return bc((g5) => g1(g2, g5, g3), g4);}
function bs(g1, g2, g3, g4){ return bn((g5, g6) => g1(g2, g5, g6), g3, g4);}
function bt(g1, g2, g3, g4){ return bc((g5) => g1(g5, g2, g3), g4);}
function bu(g1, g2, g3, g4){ return bn((g5, g6) => g1(g5, g2, g6), g3, g4);}
function bv(g1, g2, g3, g4){ return bn((g5, g6) => g1(g5, g6, g2), g3, g4);}
function bw(g1){ const g2=g1.s;return g2!=null&&g2.$==0?u0032([g2.$0, true]):g2!=null&&g2.$==2?u0032([g2.$0, false]):null;}
function bx(g1, g2, g3){ return bc((g4) => g1(g2, g4), g3);}
function by(g1, g2, g3){ return bc((g4) => g1(g4, g2), g3);}
function bz(g1, g2){ const g3=g1.s;if(g3==null)dw(g2);else g3!=null&&g3.$==2?bg(g3.$1, g2):g3!=null&&g3.$==3?bg(g3.$1, g2):void 0;}
let bA=gS((g1) => { gV(s);return class g2 extends s { static { bA=g1(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(g3){ if(this.isConst)(((g4) => g4("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((g4) => { console.log(g4);}));else { dw(this.snap);this.current=g3;this.snap={s:dA(g3, [])};} } Get(){ return this.current;} SetFinal(g3){ if(this.isConst)(((g4) => g4("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((g4) => { console.log(g4);}));else { dw(this.snap);this.isConst=true;this.current=g3;this.snap={s:dB(g3)};} } UpdateMaybe(g3){ const g4=g3(this.Get());if(g4!=null&&g4.$==1)this.Set(g4.$0);} constructor(g3, g4, g5){ super();this.isConst=g3;this.current=g5;this.snap=g4;this.view=() => this.snap;this.id=dx();} };});
let bB=gS((g1) => { gV(o);return class g2 extends o { static { bB=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Value(){ return this.fillWith;} get Name(){ return this.name;} ForTextView(){ return u0032(this.fillWith);} get AsChoiceView(){ return fe(this.fillWith);} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let bC=gS((g1) => { gV(o);return class g2 extends o { static { bC=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Value(){ return this.fillWith;} get Name(){ return this.name;} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
function bD(g1){ let g2=[];let g3;for(var g4 in g1)g2.push([g4, g1[g4]]);return g2;}
function bE(g1){ let g2=[];let g3;for(var g4 in g1)g2.push(g1[g4]);return g2;}
function bF(g1, g2){ const g3=new Array(g2.length);for(let g4=0, g5=g2.length-1;g4<=g5;g4++)g3[g4]=g1(g2[g4]);return g3;}
function bG(g1, g2){ const g3=[];for(let g5=0, g6=g2.length-1;g5<=g6;g5++){ const g4=g1(g2[g5]);if(g4==null){ } else g3.push(g4.$0);} return g3;}
function bH(g1){ const g2=[];let g3=g1;while(!(g3.$==0)){ g2.push(dS(g3));g3=dT(g3);} return g2;}
function bI(g1, g2, g3){ bQ(g2, g3);const g4=new Array(g3.length);for(let g5=0, g6=g3.length-1;g5<=g6;g5++)g4[g5]=g1(g2[g5], g3[g5]);return g4;}
function bJ(g1, g2){ let g3=true;let g4=0;while(g3&&g4<h(g2))if(g1(g2[g4]))g4=g4+1;else g3=false;return g3;}
function bK(g1){ if(g1 instanceof Array)return g1.slice();else if(g1 instanceof dV)return bH(g1);else { const g2=[];const g3=dE(g1);try { while(g3.MoveNext())g2.push(g3.Current);return g2;} finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} } }
function bL(g1, g2){ if(g1<0)j("Negative size given.");else null;const g3=new Array(g1);for(let g4=0, g5=g1-1;g4<=g5;g4++)g3[g4]=g2(g4);return g3;}
function bM(g1, g2){ const g3=bO(g1, g2);return g3==null?j("KeyNotFoundException"):g3.$0;}
function bN(g1, g2){ let g3=null;let g4=0;while(g4<g2.length&&g3==null){ g1(g2[g4])?g3=u0032(g4):void 0;g4=g4+1;} return g3;}
function bO(g1, g2){ let g3=null;let g4=0;while(g4<g2.length&&g3==null){ const g5=g1(g2[g4]);if(g5!=null&&g5.$==1)g3=g5;g4=g4+1;} return g3;}
function bP(g1, g2){ for(let g3=0, g4=g2.length-1;g3<=g4;g3++)g1(g2[g3]);}
function bQ(g1, g2){ if(g1.length!==g2.length)j("The arrays have different lengths.");}
function bR(g1){ return Array.prototype.concat.apply([], bK(g1));}
function bS(g1, g2){ let g3=false;let g4=0;while(!g3&&g4<h(g2))if(g1(g2[g4]))g3=true;else g4=g4+1;return g3;}
function bT(g1, g2){ const g3=[];for(let g4=0, g5=g2.length-1;g4<=g5;g4++)if(g1(g2[g4]))g3.push(g2[g4]);return g3;}
function bU(g1, g2, g3){ let g4=g3;const g5=g2.length;for(let g6=1, g7=g5;g6<=g7;g6++)g4=g1(g2[g5-g6], g4);return g4;}
function bV(g1){ fO((g2) => g2[0], fN((g2, g3) =>[g3, g2], g1).sort(E));}
function bW(g1, g2){ const g3=new Array(g1);for(let g4=0, g5=g1-1;g4<=g5;g4++)g3[g4]=g2;return g3;}
function bX(g1, g2){ return bK(g2).join(g1);}
function bY(g1, g2){ return g1.substring(0, g2.length)==g2;}
function bZ(g1, g2, g3){ return b1(g1, new RegExp("["+b2(g2.join(""))+"]"), g3);}
function b0(g1, g2, g3){ return g1.substr(g2, g3);}
function b1(g1, g2, g3){ return g3===1?bT((g4) => g4!=="", b5(g1, g2)):b5(g1, g2);}
function b2(g1){ return g1.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function b3(g1){ return g1==null||g1=="";}
function b4(g1, g2){ return g2.join(g1);}
function b5(g1, g2){ return g1.split(g2);}
function b6(g1, g2){ return cX(g1, b7(g2));}
function b7(g1){ return g1==null?"":g1;}
let b8=gS((g1) => class g2 extends m { static { b8=g1(this);} equals;hash;count;data;Item(g3){ return this.get(g3);} set_Item(g3, g4){ this.set(g3, g4);} get(g3){ const g4=this.data[this.hash(g3)];return g4==null?dD():bM((g5) => { const g6=k(g5);return this.equals.apply(null, [g6[0], g3])?u0032(g6[1]):null;}, g4);} set(g3, g4){ const g5=this.hash(g3);const g6=this.data[g5];if(g6==null){ this.count=this.count+1;this.data[g5]=new Array({K:g3, V:g4});} else { const g7=bN((g8) => this.equals.apply(null, [(k(g8))[0], g3]), g6);if(g7==null){ this.count=this.count+1;g6.push({K:g3, V:g4});} else g6[g7.$0]={K:g3, V:g4};} } TryGetValue(g3, g4){ const g5=this.data[this.hash(g3)];if(g5==null)return false;else { const g6=bO((g7) => { const g8=k(g7);return this.equals.apply(null, [g8[0], g3])?u0032(g8[1]):null;}, g5);return g6!=null&&g6.$==1&&(g4.set(g6.$0),true);} } GetEnumerator(){ return dH(bR(bE(this.data)));} ContainsKey(g3){ const g4=this.data[this.hash(g3)];return g4==null?false:bS((g5) => this.equals.apply(null, [(k(g5))[0], g3]), g4);} get Values(){ return new fj(this);} RemoveKey(g3){ return this.remove(g3);} get Keys(){ return new fR(this);} remove(g3){ const g4=this.hash(g3);const g5=this.data[g4];if(g5==null)return false;else { const g6=bT((g7) =>!this.equals.apply(null, [(k(g7))[0], g3]), g5);return h(g6)<g5.length&&(this.count=this.count-1,this.data[g4]=g6,true);} } static New_5(){ return new this("New_5");} static New_6(g3, g4, g5){ return new this("New_6", g3, g4, g5);} constructor(g3, g4, g5, g6){ if(g3=="New_5"){ g3="New_6";g4=[];g5=w;g6=x;} if(g3=="New_6"){ const g7=g4;const g8=g5;const g9=g6;super();this.equals=g8;this.hash=g9;this.count=0;this.data=[];const g_=dE(g7);try { while(g_.MoveNext()){ const g$=g_.Current;this.set(g$.K, g$.V);} } finally { if(typeof g_=="object"&&a(g_))g_.Dispose();} } } });
function b9(){ return{Current:null, Dirty:false};}
function b_(g1, g2){ g1.Current=g2;g1.Dirty=true;}
function b$(g1, g2){ return fk(fl(), ce(g1, eO(), g2));}
function ca(g1, g2, g3){ if(eh()){ const g4=null;return eu(() => { const g5=fm(g3);const g6=ci(g2, g5);const g7=ch(g2, g5);return ev(ei(ej(g6, cg(g2, g5))), () => ev(cf(g1, g2), () => ev(ei(g7), () => { g2.PreviousNodes=g5;return ey(null);})));});} else return cf(g1, g2);}
function cb(g1, g2, g3){ const g4=fm(g3);cj(g1, g2.Top);g2.PreviousNodes=g4;}
function cc(g1, g2){ cm(g1, g2, null);}
function cd(g1, g2){ const g3=g1.parentNode;const g4=globalThis.document.createTextNode("");g3.insertBefore(g4, g1);cn(g1, g2);return g4;}
function ce(g1, g2, g3){ cc(g1, g3);const g4=eI(g1, g2);return dW.New(g4, g3, null, g1, dx(), gW(g4.OnAfterRender));}
function cf(g1, g2){ if(eo()){ const g3=(g4) => { requestAnimationFrame(() => { cj(g1, g2.Top);g4();});};return eD((g4, g5, g6) => g3.apply(null, [g4, g5, g6]));} else { cj(g1, g2.Top);return ey(null);} }
function cg(g1, g2){ return em(bF((g3) => eQ(g3.Attr), fq(fp(g2, fo((g3) => eP(g3.Attr), g1.PreviousNodes)))));}
function ch(g1, g2){ return em(bF((g3) => eS(g3.Attr), fq(fp(g1.PreviousNodes, fo((g3) => eR(g3.Attr), g2)))));}
function ci(g1, g2){ const g3=(g5) => eT(g5.Attr);const g4=(g5) => fo(g3, g5);return em(bF((g5) => eU(g5.Attr), fq(fr(g4(g1.PreviousNodes), g4(g2)))));}
function cj(g1, g2){!g1?co(g2):void 0;cp(g2.Children);cq(g2);}
function ck(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cl(g1, g2){ g1.Value=g2;g1.Dirty=true;}
function cm(g1, g2, g3){ while(true){ if(g2!=null&&g2.$==1)return cr(g1, g2.$0.El, g3);else if(g2!=null&&g2.$==2){ const g4=g2.$0;g4.Dirty=false;g2=g4.Current;} else if(g2==null)return g3;else if(g2!=null&&g2.$==4)return cr(g1, g2.$0.Text, g3);else if(g2!=null&&g2.$==5)return cr(g1, g2.$0, g3);else if(g2!=null&&g2.$==6)return bU((g7, g8) =>((((g9) =>(g_) =>(g$) => g_==null||g_.constructor===Object?cm(g9, g_, g$):cr(g9, g_, g$))(g1))(g7))(g8), g2.$0.Els, g3);else { const g5=g2.$1;const g6=g2.$0;g2=g6;g3=cm(g1, g5, g3);} } }
function cn(g1, g2){ cm(g1.parentNode, g2, g1);}
function co(g1){ function g2(g3){ function g4(g5){ while(true){ if(g5!=null&&g5.$==0){ const g6=g5.$1;const g7=g5.$0;if(g4(g7))return true;else g5=g6;} else if(g5!=null&&g5.$==2){ const g8=g5.$0;if(g8.Dirty)return true;else g5=g8.Current;} else if(g5!=null&&g5.$==6){ const g9=g5.$0;return g9.Dirty||bS(g2, g9.Holes);} else return false;} } return g4(g3.Children);} eX(g1.El, g1.Attr);if(g2(g1))cs(g1);}
function cp(g1){ while(true){ if(g1!=null&&g1.$==1)return cj(false, g1.$0);else if(g1!=null&&g1.$==2){ const g2=g1.$0;g1=g2.Current;} else if(g1==null)return null;else if(g1!=null&&g1.$==5)return null;else if(g1!=null&&g1.$==4){ const g3=g1.$0;return g3.Dirty?(g3.Text.nodeValue=g3.Value,g3.Dirty=false):null;} else if(g1!=null&&g1.$==6){ const g4=g1.$0;bP((g7) => { cj(false, g7);}, g4.Holes);bP((g7) => { eX(g7[0], g7[1]);}, g4.Attrs);return cq(g4);} else { const g5=g1.$1;const g6=g1.$0;cp(g6);g1=g5;} } }
function cq(g1){ const g2=gW(g1.Render);if(g2!=null&&g2.$==1){ g2.$0(g1.El);gU(g1, "Render", null);} }
function cr(g1, g2, g3){ ee(g1, g3, g2);return g2;}
function cs(g1){ const g2=g1.El;function g3(g7, g8){ while(true){ if(g7!=null&&g7.$==1)return g7.$0.El;else if(g7!=null&&g7.$==2){ const g9=g7.$0;if(g9.Dirty){ g9.Dirty=false;return cm(g2, g9.Current, g8);} else g7=g9.Current;} else if(g7==null)return g8;else if(g7!=null&&g7.$==4)return g7.$0.Text;else if(g7!=null&&g7.$==5)return g7.$0;else if(g7!=null&&g7.$==6){ const g_=g7.$0;if(g_.Dirty)g_.Dirty=false;return bU((hb, hc) => hb==null||hb.constructor===Object?g3(hb, hc):hb, g_.Els, g8);} else { const g$=g7.$1;const ha=g7.$0;g7=ha;g8=g3(g$, g8);} } } const g4=g1.El;gF((g7) => { ef(g4, g7);}, gE(gG(g1), gD(g1.El, gW(g1.Delimiters))));let g5=g1.Children;const g6=gW(g1.Delimiters);g3(g5, g6!=null&&g6.$==1?g6.$0[1]:null);}
function ct(g1){ return{$:2, $0:g1};}
function cu(g1){ return{$:6, $0:g1};}
function cv(g1){ return{$:5, $0:g1};}
function cw(g1){ return{$:4, $0:g1};}
let cx=gS((g1) => class g2 extends m { static { cx=g1(this);} equals;hash;data;count;SAdd(g3){ return this.add(g3);} Contains(g3){ const g4=this.data[this.hash(g3)];return g4==null?false:this.arrContains(g3, g4);} add(g3){ const g4=this.hash(g3);const g5=this.data[g4];return g5==null?(this.data[g4]=[g3],this.count=this.count+1,true):this.arrContains(g3, g5)?false:(g5.push(g3),this.count=this.count+1,true);} arrContains(g3, g4){ let g5=true;let g6=0;const g7=g4.length;while(g5&&g6<g7)if(this.equals.apply(null, [g4[g6], g3]))g5=false;else g6=g6+1;return!g5;} GetEnumerator(){ return dE(fS(this.data));} ExceptWith(g3){ const g4=dE(g3);try { while(g4.MoveNext())this.Remove(g4.Current);} finally { if(typeof g4=="object"&&a(g4))g4.Dispose();} } get Count(){ return this.count;} IntersectWith(g3){ const g4=new cx("New_4", g3, this.equals, this.hash);const g5=fS(this.data);for(let g7=0, g8=g5.length-1;g7<=g8;g7++){ const g6=g5[g7];if(!g4.Contains(g6))this.Remove(g6);} } Remove(g3){ const g4=this.data[this.hash(g3)];return g4==null?false:this.arrRemove(g3, g4)&&(this.count=this.count-1,true);} CopyTo(g3, g4){ const g5=fS(this.data);for(let g6=0, g7=g5.length-1;g6<=g7;g6++)i(g3, g6+g4, g5[g6]);} arrRemove(g3, g4){ let g5=true;let g6=0;const g7=g4.length;while(g5&&g6<g7)if(this.equals.apply(null, [g4[g6], g3])){ g4.splice(g6, 1);g5=false;} else g6=g6+1;return!g5;} static New_3(){ return new this("New_3");} static New_4(g3, g4, g5){ return new this("New_4", g3, g4, g5);} static New_2(g3){ return new this("New_2", g3);} constructor(g3, g4, g5, g6){ if(g3=="New_3"){ g3="New_4";g4=[];g5=w;g6=x;} let g7;if(g3=="New_2"){ g7=g4;g3="New_4";g4=g7;g5=w;g6=x;} if(g3=="New_4"){ const g8=g4;const g9=g5;const g_=g6;super();this.equals=g9;this.hash=g_;this.data=[];this.count=0;const g$=dE(g8);try { while(g$.MoveNext())this.add(g$.Current);} finally { if(typeof g$=="object"&&a(g$))g$.Dispose();} } } });
function cy(g1, g2){ return{GetEnumerator:() => { const g3=dE(g1);const g4=[true];return new dI(g3, null, (g5) => { if(g5.s.MoveNext()){ g5.c=g5.s.Current;return true;} else { const g6=g5.s;if(!w(g6, null))g6.Dispose();g5.s=null;return g4[0]&&(g4[0]=false,g5.s=dE(g2),g5.s.MoveNext()?(g5.c=g5.s.Current,true):(g5.s.Dispose(),g5.s=null,false));} }, (g5) => { const g6=g5.s;if(!w(g6, null))g6.Dispose();});}};}
function cz(g1, g2){ let g3=0;const g4=dE(g2);try { while(g4.MoveNext()){ g1(g3, g4.Current);g3=g3+1;} } finally { if(typeof g4=="object"&&a(g4))g4.Dispose();} }
function cA(g1, g2){ return cF(cC(g1, g2));}
function cB(g1){ return cG((g2, g3) =>[g2, g3], g1);}
function cC(g1, g2){ return{GetEnumerator:() => { const g3=dE(g2);return new dI(null, null, (g4) => g3.MoveNext()&&(g4.c=g1(g3.Current),true), () => { g3.Dispose();});}};}
function cD(g1, g2){ const g3=dE(g2);try { let g4=true;let g5=0;while(g4&&g3.MoveNext())if(g1(g3.Current))g4=false;else g5=g5+1;return g4?null:u0032(g5);} finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} }
function cE(g1, g2){ const g3=dE(g2);try { let g4=null;while(w(g4, null)&&g3.MoveNext())g4=g1(g3.Current);return g4;} finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} }
function cF(g1){ return{GetEnumerator:() => { const g2=dE(g1);function g3(g4){ while(true){ const g5=g4.s;if(w(g5, null)){ if(g2.MoveNext()){ g4.s=dE(g2.Current);g4=g4;} else { g2.Dispose();return false;} } else if(g5.MoveNext()){ g4.c=g5.Current;return true;} else { g4.Dispose();g4.s=null;g4=g4;} } } return new dI(null, null, g3, (g4) => { const g5=g4.s;if(!w(g5, null))g5.Dispose();if(!w(g2, null))g2.Dispose();});}};}
function cG(g1, g2){ return cJ(g1, cK((g3) => g3), g2);}
function cH(g1){ const g2=dE(g1);try { return g2.MoveNext()?g2.Current:fM();} finally { if(typeof g2=="object"&&a(g2))g2.Dispose();} }
function cI(g1, g2, g3){ let g4=g2;const g5=dE(g3);try { while(g5.MoveNext())g4=g1(g4, g5.Current);return g4;} finally { if(typeof g5=="object"&&a(g5))g5.Dispose();} }
function cJ(g1, g2, g3){ return{GetEnumerator:() => { const g4=dE(g2);const g5=dE(g3);return new dI(null, null, (g6) => g4.MoveNext()&&g5.MoveNext()&&(g6.c=g1(g4.Current, g5.Current),true), () => { g4.Dispose();g5.Dispose();});}};}
function cK(g1){ return{GetEnumerator:() => new dI(0, null, (g2) => { g2.c=g1(g2.s);g2.s=g2.s+1;return true;}, void 0)};}
function cL(g1, g2){ const g3=dE(g2);try { while(g3.MoveNext())g1(g3.Current);} finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} }
function cM(g1, g2, g3){ return!cQ((g4, g5) =>!g1(g4, g5), g2, g3);}
function cN(g1){ return cR(() => bK(g1).slice().reverse());}
function cO(g1, g2){ return{GetEnumerator:() => { const g3=dE(g2);const g4=new cx("New_3");return new dI(null, null, (g5) => { let g6;let g7;if(g3.MoveNext()){ g6=g3.Current;g7=g4.SAdd(g1(g6));while(!g7&&g3.MoveNext()){ g6=g3.Current;g7=g4.SAdd(g1(g6));} return g7&&(g5.c=g6,true);} else return false;}, () => { g3.Dispose();});}};}
function cP(g1, g2){ return{GetEnumerator:() => new dI(g2, null, (g3) => { const g4=g1(g3.s);return g4==null?false:(g3.c=g4.$0[0],g3.s=g4.$0[1],true);}, void 0)};}
function cQ(g1, g2, g3){ const g4=dE(g2);try { const g5=dE(g3);try { let g6=false;while(!g6&&g4.MoveNext()&&g5.MoveNext())g6=g1(g4.Current, g5.Current);return g6;} finally { if(typeof g5=="object"&&a(g5))g5.Dispose();} } finally { if(typeof g4=="object"&&a(g4))g4.Dispose();} }
function cR(g1){ return{GetEnumerator:() => dE(g1())};}
function cS(g1){ const g2=dE(g1);try { if(!g2.MoveNext())cV();let g3=g2.Current;while(g2.MoveNext()){ const g4=g2.Current;if(E(g4, g3)===1)g3=g4;} return g3;} finally { if(typeof g2=="object"&&a(g2))g2.Dispose();} }
function cT(g1){ return cO((g2) => g2, g1);}
function cU(g1, g2){ return cW(g1, cK(g2));}
function cV(){ return j("The input sequence was empty.");}
function cW(g1, g2){ g1<0?fQ():void 0;return{GetEnumerator:() => { const g3=[dE(g2)];return new dI(0, null, (g4) => { g4.s=g4.s+1;if(g4.s>g1)return false;else { const g5=g3[0];return w(g5, null)?fM():g5.MoveNext()?(g4.c=g5.Current,g4.s===g1?(g5.Dispose(),g3[0]=null):void 0,true):(g5.Dispose(),g3[0]=null,fM());} }, () => { const g4=g3[0];if(!w(g4, null))g4.Dispose();});}};}
function cX(g1, g2){ return!cY((g3) =>!g1(g3), g2);}
function cY(g1, g2){ const g3=dE(g2);try { let g4=false;while(!g4&&g3.MoveNext())g4=g1(g3.Current);return g4;} finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} }
function cZ(g1, g2, g3){ const g4=dE(g2);try { const g5=dE(g3);try { let g6=0;let g7=true;while(g7&&g6===0)if(g4.MoveNext())g6=g5.MoveNext()?g1(g4.Current, g5.Current):1;else if(g5.MoveNext())g6=-1;else g7=false;return g6;} finally { if(typeof g5=="object"&&a(g5))g5.Dispose();} } finally { if(typeof g4=="object"&&a(g4))g4.Dispose();} }
let c0=gS((g1) => class g2 extends m { static { c0=g1(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(g3, g4, g5){ let g6;const g7=c0.GetHolesFor(g3);const g8=(g6=null,[g7.TryGetValue(g4, {get:() => g6, set:(g_) => { g6=g_;}}), g6]);if(g8[0])return g8[1];else { const g9=g5();g7.set_Item(g4, g9);return g9;} } static GetHolesFor(g3){ let g4;const g5=(g4=null,[c0.initialized.TryGetValue(g3, {get:() => g4, set:(g7) => { g4=g7;}}), g4]);if(g5[0])return g5[1];else { const g6=new b8("New_5");c0.initialized.set_Item(g3, g6);return g6;} } static { c0.initialized=new b8("New_5");c0.instances=new b8("New_5");} });
let c1=gS((g1) => { gV(o);return class g2 extends o { static { c1=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} ForTextView(){ return u0032(this.fillWith.View);} AddAttribute(g3, g4){(g3(g4))(e4(this.fillWith));} get AsChoiceView(){ return fe(K(String, this.fillWith.View));} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
function c2(g1){ return g1==null?null:u0032(g1);}
let c3=gS((g1) => { gV(o);return class g2 extends o { static { c3=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} ForTextView(){ return u0032(K(String, this.fillWith.View));} AddAttribute(g3, g4){(g3(g4))(e5(this.fillWith));} get AsChoiceView(){ return fe(K(String, this.fillWith.View));} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let c4=gS((g1) => { gV(o);return class g2 extends o { static { c4=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} ForTextView(){ return u0032(K(String, this.fillWith.View));} AddAttribute(g3, g4){(g3(g4))(e6(this.fillWith));} get AsChoiceView(){ return fe(K(String, this.fillWith.View));} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let c5=gS((g1) => { gV(o);return class g2 extends o { static { c5=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} ForTextView(){ return u0032(K((g3) =>(new Date(g3)).toLocaleString(), this.fillWith.View));} AddAttribute(g3, g4){(g3(g4))(e7(this.fillWith));} get AsChoiceView(){ return fe(K((g3) =>(new Date(g3)).toLocaleString(), this.fillWith.View));} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let c6=gS((g1) => { gV(o);return class g2 extends o { static { c6=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} ForTextView(){ return u0032(K(String, this.fillWith.View));} AddAttribute(g3, g4){(g3(g4))(e8(this.fillWith));} get AsChoiceView(){ return fe(K(String, this.fillWith.View));} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let c7=gS((g1) => { gV(o);return class g2 extends o { static { c7=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let c8=gS((g1) => { gV(o);return class g2 extends o { static { c8=g1(this);} name;fillWith;get ValueObj(){ return this.Value;} get Name(){ return this.name;} get Value(){ return this.fillWith;} ForTextView(){ return u0032(K((g3) => bX(",", g3), this.fillWith.View));} AddAttribute(g3, g4){(g3(g4))(e9(this.fillWith));} get AsChoiceView(){ return fe(K(String, this.fillWith.View));} constructor(g3, g4){ super();this.name=g3;this.fillWith=g4;} };});
let c9=gS((g1) => class g2 extends m { static { c9=g1(this);} });
function c_(g1){ if(db()==null){ c$("");dc("", null, globalThis.document.body, null);const g2=dd(globalThis.document.body, g1);const g3=globalThis.document.body;(((g5) => { u0034.RunInPlace(true, g3, g5);})(g2));const g4=g2;de(u0032(g4));return g4;} else return db().$0;}
function c$(g1){!df()?(dg(true),dh(globalThis.document.body, "")):void 0;di().set_Item(g1, dj(""));}
function da(g1, g2, g3){ let g4;const g5=(g4=null,[dj(g1).TryGetValue(g2==null?"":g2.$0, {get:() => g4, set:(g6) => { g4=g6;}}), g4]);return g5[0]?dd(g5[1].cloneNode(true), g3):(console.warn("Local template doesn't exist", g2),u0034.Empty);}
function db(){ return dX.RenderedFullDocTemplate;}
function dc(g1, g2, g3, g4){ const g5=new cx("New_3");function g6(hb, hc){ while(true)switch(hb){ case 0:if(hc!==null){ const hd=hc.nextSibling;if(w(hc.nodeType, Node.TEXT_NODE))dY(hc);else if(w(hc.nodeType, Node.ELEMENT_NODE))g8(hc);hc=hd;} else return null;break;case 1:const he=d6(hc.nodeName, u0032(3), null).toLowerCase();const hf=he.indexOf(".");const hg=hf===-1?[g1, he]:[d6(he, null, u0032(hf-1)), d6(he, u0032(hf+1), null)];const hh=hg[1];const hi=hg[0];if(hi!=""&&!di().ContainsKey(hi))return dZ(hh);else { if(hi==""&&g4!=null)g4.$0(hh);const hj=di().Item(hi);if(!hj.ContainsKey(hh))return dZ(hh);else { const hk=hj.Item(hh);const hl=hk.cloneNode(true);const hm=new cx("New_3");const hn=new b8("New_5");const ho=hc.attributes;for(let hy=0, hz=ho.length-1;hy<=hz;hy++){ const hp=ho.item(hy).name.toLowerCase();const hq=ho.item(hy).nodeValue;let hr=hq==""?hp:hq.toLowerCase();hn.set_Item(hp, hr);if(!hm.SAdd(hp))console.warn("Hole mapped twice", hp);} for(let hA=0, hB=hc.childNodes.length-1;hA<=hB;hA++){ const hs=hc.childNodes[hA];if(w(hs.nodeType, Node.ELEMENT_NODE))if(!hm.SAdd(hs.nodeName.toLowerCase()))console.warn("Hole filled twice", hh);} const ht=hc.childNodes.length===1&&w(hc.firstChild.nodeType, Node.TEXT_NODE);if(ht){ const hu=d0(hl, hc.firstChild.textContent, hh);const hv=((hC) =>(hD) => hC.SAdd(hD))(hm);let hw=((hC) =>(hD) => { if(hD!=null)hC(hD.$0);})((hC) => { hv(hC);});hw(hu);} d1(hl, hm);if(!ht){ for(let hC=0, hD=hc.childNodes.length-1;hC<=hD;hC++){ const hx=hc.childNodes[hC];if(w(hx.nodeType, Node.ELEMENT_NODE))if(hx.hasAttributes())d2(hl, hx);else g7(hl, hx);} } d3(hl, hn);d4(hl, hc.parentNode, hc);hc.parentNode.removeChild(hc);return;} } break;} } function g7(hb, hc){ const hd=hc.nodeName.toLowerCase();const he=(hi, hj) => { if(hd=="title"&&hc.hasChildNodes()){ const hk=d7(hc.textContent);hc.removeChild(hc.firstChild);while(hk.hasChildNodes())hc.appendChild(hk.firstChild);} g8(hc);return d4(hc, hi, hj);};dk(hb, "[ws-attr-holes]", (hi) => { const hj=bZ(hi.getAttribute("ws-attr-holes"), [" "], 1);for(let hn=0, ho=hj.length-1;hn<=ho;hn++){ const hk=f(hj, hn);let hl=new RegExp("\\${"+hd+"}", "ig");let hm=hi.getAttribute(hk).replace(hl, hc.textContent);hi.setAttribute(hk, hm);} });const hf=hb.querySelector("[ws-hole="+hd+"]");if(w(hf, null)){ const hg=hb.querySelector("[ws-replace="+hd+"]");if(w(hg, null)){ const hh=hb.querySelector("slot[name="+hd+"]");return hb.tagName.toLowerCase()=="template"?(he(hh.parentNode, hh),void hh.parentNode.removeChild(hh)):null;} else { he(hg.parentNode, hg);hg.parentNode.removeChild(hg);return;} } else { while(hf.hasChildNodes())hf.removeChild(hf.lastChild);hf.removeAttribute("ws-hole");return he(hf, null);} } function g8(hb){ if(!hb.hasAttribute("ws-preserve"))if(bY(hb.nodeName.toLowerCase(), "ws-"))g_(hb);else { d5(hb);g9(hb.firstChild);} } function g9(hb){ return g6(0, hb);} function g_(hb){ return g6(1, hb);} function g$(hb){ while(true){ const hc=hb.querySelector("[ws-template]");if(w(hc, null)){ const hd=hb.querySelector("[ws-children-template]");if(w(hd, null)){ const he=hb.querySelectorAll("template[id]");for(let hk=1, hl=he.length-1;hk<=hl;hk++){ const hf=he[hk];if(g5.Contains(hf)){ } else { dc(g1, u0032(hf.getAttribute("id")), hf, null);g5.SAdd(hf);} } const hg=hb.querySelectorAll("template[name]");for(let hm=1, hn=hg.length-1;hm<=hn;hm++){ const hh=hg[hm];if(g5.Contains(hh)){ } else { dc(g1, u0032(hh.getAttribute("name")), hh, null);g5.SAdd(hh);} } return null;} else { const hi=hd.getAttribute("ws-children-template");hd.removeAttribute("ws-children-template");dc(g1, u0032(hi), hd, null);hb=hb;} } else { const hj=hc.getAttribute("ws-template");(dl(g1, u0032(hj), hc))(null);hb=hb;} } } const ha=(g2==null?"":g2.$0).toLowerCase();dj(g1).set_Item(ha, g3);if(g3.hasChildNodes()){ g$(g3);g9(g3.firstChild);} }
function dd(g1, g2){ let g3;const g4=dm(g1, cy(g2, dn().Values));const g5=g4[1];const g6=g4[0];const g7=g6.Els;return!w(g7, null)&&g7.length===1&&(f(g7, 0)instanceof Node&&(w(f(g7, 0).nodeType, Node.ELEMENT_NODE)&&(g3=f(g7, 0),true)))?eg.TreeNode(g6, g5):u0034.Mk(cu(g6), g5);}
function de(g1){ dX.RenderedFullDocTemplate=g1;}
function df(){ return dX.LocalTemplatesLoaded;}
function dg(g1){ dX.LocalTemplatesLoaded=g1;}
function dh(g1, g2){ const g3=dj(g2);const g4=new b8("New_5");const g5=g1.querySelectorAll("[ws-template]");for(let hf=0, hg=g5.length-1;hf<=hg;hf++){ const g6=g5[hf];const g7=g6.getAttribute("ws-template").toLowerCase();g6.removeAttribute("ws-template");g4.set_Item(g7, do_1(g6));} const g8=g1.querySelectorAll("[ws-children-template]");for(let hh=0, hi=g8.length-1;hh<=hi;hh++){ const g9=g8[hh];const g_=g9.getAttribute("ws-children-template").toLowerCase();g9.removeAttribute("ws-children-template");g4.set_Item(g_, dp(g9));} const g$=g1.querySelectorAll("template[id]");for(let hj=0, hk=g$.length-1;hj<=hk;hj++){ const ha=g$[hj];g4.set_Item(ha.getAttribute("id").toLowerCase(), dq(ha));} const hb=g1.querySelectorAll("template[name]");for(let hl=0, hm=hb.length-1;hl<=hm;hl++){ const hc=hb[hl];g4.set_Item(hc.getAttribute("name").toLowerCase(), dq(hc));} const hd=new cx("New_3");function he(hn){ if(!g3.ContainsKey(hn)){ let ho;const hp=(ho=null,[g4.TryGetValue(hn, {get:() => ho, set:(hq) => { ho=hq;}}), ho]);if(hp[0]){ hd.SAdd(hn);g4.RemoveKey(hn);dc(g2, u0032(hn), hp[1], u0032(he));} else console.warn(hd.Contains(hn)?"Encountered loop when instantiating "+hn:"Local template does not exist: "+hn);} } while(g4.count>0)he(cH(g4.Keys));}
function di(){ return dX.LoadedTemplates;}
function dj(g1){ let g2;const g3=(g2=null,[di().TryGetValue(g1, {get:() => g2, set:(g5) => { g2=g5;}}), g2]);if(g3[0])return g3[1];else { const g4=new b8("New_5");di().set_Item(g1, g4);return g4;} }
function dk(g1, g2, g3){ eb(g1, g2, (g4) => { if(g4.closest("[ws-preserve]")==null)g3(g4);});}
function dl(g1, g2, g3){ const g4=do_1(g3);return(g5) => { dc(g1, g2, g4, g5);};}
function dm(g1, g2){ let g3;const g4=[];const g5=[];const g6=[];const g7=[];const g8=new b8("New_5");const g9=dE(g2);try { while(g9.MoveNext()){ const g_=g9.Current;g8.set_Item(g_.Name, g_);} } finally { if(typeof g9=="object"&&a(g9))g9.Dispose();} let g$=ec(g1);const ha=(hj, hk) => { const hl=eI(hj, hk);g5.push(eJ(hl));g6.push([hj, hl]);const hm=gW(hl.OnAfterRender);if(hm==null)return null;else { const hn=hm.$0;g7.push(() => { hn(hj);});return;} };const hb=(hj) => { let hk;const hl=(hk=null,[g8.TryGetValue(hj, {get:() => hk, set:(ho) => { hk=ho;}}), hk]);if(hl[0]){ const hm=hl[1];if(hm instanceof u)return u0032(hm.Value);else if(hm instanceof v)return u0032(u0034.TextNode(hm.Value));else { const hn=hm.ForTextView();return hn==null?null:u0032(u0034.TextView(hn.$0));} } else return null;};dk(g1, "[ws-hole]", (hj) => { const hk=hj.getAttribute("ws-hole");hj.removeAttribute("ws-hole");while(hj.hasChildNodes())hj.removeChild(hj.lastChild);const hl=hb(hk);if(hl!=null&&hl.$==1){ const hm=hl.$0;cc(hj, hm.docNode);g4.push(dW.New(eK(hj), hm.docNode, null, hj, dx(), null));g5.push(hm.updates);} });dk(g1, "[ws-replace]", (hj) => { const hk=hb(hj.getAttribute("ws-replace"));if(hk!=null&&hk.$==1){ const hl=hk.$0;const hm=hj.parentNode;const hn=globalThis.document.createTextNode("");hm.replaceChild(hn, hj);const ho=cd(hn, hl.docNode);g$=ec(g1);const hp=bN((hq) => hj===hq, g$);if(hp==null){ } else i(g$, hp.$0, hl.docNode);g4.push(dW.New(eK(hm), hl.docNode, u0032([ho, hn]), hm, dx(), null));g5.push(hl.updates);} });let hc=false;dk(g1, "slot", (hj) => { const hk=hj.getAttribute("name");const hl=hk==""||hk==null?"default":hk.toLowerCase();if(hc&&hl=="default"||!w(g1.parentElement, null)){ } else { while(hj.hasChildNodes())hj.removeChild(hj.lastChild);if(hl=="default")hc=true;const hm=hb(hl);if(hm!=null&&hm.$==1){ const hn=hm.$0;cc(hj, hn.docNode);g4.push(dW.New(eK(hj), hn.docNode, null, hj, dx(), null));g5.push(hn.updates);} } });dk(g1, "[ws-attr]", (hj) => { let hk;const hl=hj.getAttribute("ws-attr");hj.removeAttribute("ws-attr");const hm=(hk=null,[g8.TryGetValue(hl, {get:() => hk, set:(ho) => { hk=ho;}}), hk]);if(hm[0]){ const hn=hm[1];if(hn instanceof eZ)ha(hj, hn.Value);else console.warn("Attribute hole filled with non-attribute data", hl);} });dk(g1, "[ws-on]", (hj) => { ha(hj, fa.Concat(bG((hk) => { let hl;const hm=bZ(hk, [":"], 1);const hn=(hl=null,[g8.TryGetValue(f(hm, 1), {get:() => hl, set:(hp) => { hl=hp;}}), hl]);if(hn[0]){ const ho=hn[1];return ho instanceof e0?u0032(e1(f(hm, 0), ho.Value)):ho instanceof bC?u0032(fa.Handler(f(hm, 0), ho.Value)):(console.warn("Event hole on"+f(hm, 0)+" filled with non-event data", f(hm, 1)),null);} else return null;}, bZ(hj.getAttribute("ws-on"), [" "], 1))));hj.removeAttribute("ws-on");});dk(g1, "[ws-onafterrender]", (hj) => { let hk;const hl=hj.getAttribute("ws-onafterrender");const hm=(hk=null,[g8.TryGetValue(hl, {get:() => hk, set:(ho) => { hk=ho;}}), hk]);if(hm[0]){ const hn=hm[1];if(hn instanceof fb){ hj.removeAttribute("ws-onafterrender");ha(hj, e2(hn.Value));} else if(hn instanceof fc){ hj.removeAttribute("ws-onafterrender");ha(hj, e2(hn.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", hl);} });dk(g1, "[ws-var]", (hj) => { let hk;const hl=hj.getAttribute("ws-var");hj.removeAttribute("ws-var");const hm=(hk=null,[g8.TryGetValue(hl, {get:() => hk, set:(hn) => { hk=hn;}}), hk]);if(hm[0])hm[1].AddAttribute((hn) =>(ho) => ha(hn, ho), hj);});const hd=() => { ds("[ws-dom]", (hj) => { let hk;let hl;let hm;const hn=(hk=null,[g8.TryGetValue(hj.getAttribute("ws-dom").toLowerCase(), {get:() => hk, set:(hr) => { hk=hr;}}), hk]);if(hn[0]){ const ho=hn[1];if(ho instanceof c7){ const hp=ho.Value;hj.removeAttribute("ws-dom");hl=hj;const hq=new MutationObserver((hr, hs) => { bP((ht) => { ht.removedNodes.forEach(gX((hu) => hu[0]===hl&&ht.addedNodes.length!==1?(hp.SetFinal(null),hs.disconnect()):null), null);}, hr);});if(hj.parentElement!==null)hq.observe(hj.parentElement, (hm={},hm.childList=true,hm));hp.Set(u0032(hj));O((hr) => { if(hr!=null&&hr.$==1){ const hs=hr.$0;if(hl===hs){ } else { hl.replaceWith(hs);hl=hs;} } else { hl.remove();hq.disconnect();} }, hp.View);} } });};dk(g1, "[ws-attr-holes]", (hj) => { const hk=new RegExp(dr(), "g");const hl=bZ(hj.getAttribute("ws-attr-holes"), [" "], 1);hj.removeAttribute("ws-attr-holes");for(let hm=0, hn=hl.length-1;hm<=hn;hm++)((() => { let ho;const hp=f(hl, hm);const hq=hj.getAttribute(hp);let hr=null;let hs=0;const ht=[];while(hr=hk.exec(hq),hr!==null){ const hu=d6(hq, u0032(hs), u0032(hk.lastIndex-f(hr, 0).length-1));hs=hk.lastIndex;ht.push([hu, f(hr, 1)]);} const hv=d6(hq, u0032(hs), null);hk.lastIndex=0;const hw=bU((hB, hC) =>(((hD) => { const hE=hD[0];const hF=hD[1];return(hG) => { let hH;const hI=hG[0];const hJ=hG[1];const hK=(hH=null,[g8.TryGetValue(hF, {get:() => hH, set:(hM) => { hH=hM;}}), hH]);const hL=hK[0]?hK[1].AsChoiceView:fd("");return hL.$==1?[hE, dV.Cons(hI==""?hL.$0:K((hM) => hM+hI, hL.$0), hJ)]:[hE+hL.$0+hI, hJ];};})(hB))(hC), ht, [hv, dV.Empty]);if(hw[1].$==1){ if(hw[1].$1.$==1){ if(hw[1].$1.$1.$==1){ if(hw[1].$1.$1.$1.$==0){ const hx=hw[0];ho=e3(hp, Q((hB, hC, hD) => hx+hB+hC+hD, hw[1].$0, hw[1].$1.$0, hw[1].$1.$1.$0));} else { const hy=hw[0];ho=e3(hp, K((hB) => hy+bX("", hB), R(hw[1])));} } else { const hz=hw[0];ho=e3(hp, S((hB, hC) => hz+hB+hC, hw[1].$0, hw[1].$1.$0));} } else if(hw[0]=="")ho=e3(hp, hw[1].$0);else { const hA=hw[0];ho=e3(hp, K((hB) => hA+hB, hw[1].$0));} } else ho=fa.Create(hp, hw[0]);return ha(hj, ho);})());});let he=g$;const hf=g7.length==0?u0032(() => { hd();}):u0032((hj) => { hd();bP((hk) => { hk(hj);}, g7);});const hg=!w(g$, null)&&g$.length===1&&(f(g$, 0)instanceof Node&&(f(g$, 0)instanceof Element&&(g3=f(g$, 0),true)))?u0032(g3):null;let hh={Els:he, Dirty:true, Holes:g4, Attrs:g6, Render:hf?hf.$0:void 0, El:hg?hg.$0:void 0};let hi=gY(hh, ["Render", "El"]);return[hi, ff(P(), T, g5)];}
function dn(){ return dX.GlobalHoles;}
function do_1(g1){ g1.removeAttribute("ws-template");const g2=g1.getAttribute("ws-replace");if(g2==null){ } else { g1.removeAttribute("ws-replace");const g3=g1.parentNode;if(w(g3, null)){ } else { const g4=globalThis.document.createElement(g1.tagName);g4.setAttribute("ws-replace", g2);g3.replaceChild(g4, g1);} } const g5=globalThis.document.createElement("div");g5.appendChild(g1);return g5;}
function dp(g1){ const g2=globalThis.document.createElement("div");while(g1.hasChildNodes())g2.appendChild(g1.firstChild);return g2;}
function dq(g1){ const g2=globalThis.document.createElement("div");const g3=g1.content;for(let g4=0, g5=g3.childNodes.length-1;g4<=g5;g4++)g2.appendChild(g3.childNodes[g4].cloneNode(true));return g2;}
function dr(){ return dX.TextHoleRE;}
function ds(g1, g2){ ed(g1, (g3) => { if(g3.closest("[ws-preserve]")==null)g2(g3);});}
let dt=gS((g1) => class g2 { static { dt=g1(this);} Segments;QueryArgs;FormData;Method;Body;ToLink(){ return dK(this.Segments, this.QueryArgs);} static FromHash(g3, g4){ const g5=g3.indexOf("#");if(g5===-1)return dt.Empty;else { const g6=g3.substring(g5+1);return g4!=null&&g4.$0?g6==""||g6=="/"?dt.Empty:bY(g6, "/")?dt.FromUrl(g6.substring(1), u0032(true)):dt.Segment_2(g6):dt.FromUrl(g3.substring(g5), u0032(false));} } static Combine(g3){ let g4;let g5;let g6;let g7;const g8=bK(g3);const g9=h(g8);if(g9===0)return dt.Empty;else if(g9===1)return f(g8, 0);else { g4=null;g5=null;const g_=[];g6=new et("New", []);g7=new et("New", []);bP((g$) => { const ha=g$.Method;if(ha!=null&&ha.$==1)g4=ha;const hb=g$.Body;if(hb==null){ } else g5=hb;g6=eq((hc, hd, he) => he.Add_1(hc, hd), g6, g$.QueryArgs);g7=eq((hc, hd, he) => he.Add_1(hc, hd), g7, g$.FormData);dQ((hc) => { g_.push(hc);}, g$.Segments);}, g8);return dt.New(dR(g_), g6, g7, g4, g5);} } static Segment(g3, g4){ return dt.New(g3, dt.Empty.QueryArgs, dt.Empty.FormData, g4, dt.Empty.Body);} static get Empty(){ return dt.New(dV.Empty, new et("New", []), new et("New", []), null, u0032(null));} static FromUrl(g3, g4){ const g5=g3.indexOf("?");const g6=g5===-1?[g3, new et("New", [])]:[b0(g3, 0, g5), dt.ParseQuery(g3.substring(g5+1))];return dt.New(dO(bZ(g6[0], ["/"], g4!=null&&g4.$0?0:1)), g6[1], dt.Empty.FormData, dt.Empty.Method, dt.Empty.Body);} static Segment_2(g3){ return dt.New(dO([g3]), dt.Empty.QueryArgs, dt.Empty.FormData, dt.Empty.Method, dt.Empty.Body);} static ParseQuery(g3){ return es(bK(bG((g4) => { const g5=bZ(g4, ["="], 0);return!w(g5, null)&&g5.length===2?u0032([f(g5, 0), f(g5, 1)]):((((g6) =>(g7) => g6("wrong format for query argument: "+u0031(g7)))((g6) => { console.log(g6);}))(g4),null);}, bZ(g3, ["&"], 0))));} static New(g3, g4, g5, g6, g7){ return gZ(dt, {Segments:g3, QueryArgs:g4, FormData:g5, Method:g6, Body:g7});} });
function du(g1, g2){ const g3=(g5, g6) => { const g7=g1==null?{}:new g1();const g8=f(g2, g5);const g9=g8[0];return g9!=null&&g9.$==1?g8[0].$0:(g7.$=g5,cz((g_, g$) => { g7["$"+String(g_)]=g$;}, g6),g7);};const g4=bK(cA((g5) => { const g6=g5[0];const g7=g5[1];const g8=g7[2];return cC((g9) =>[g6, g9[0], g9[1], g8], g7[1]);}, cB(g2)));return I((g5) => cA((g6) => { const g7=g6[0];if(dv(g6[1], g5.Method)){ const g8=dN(dO(g6[2]), g5.Segments);if(g8==null)return[];else { const g9=g8.$0;const g_=dO(g6[3]);if(g_.$==0)return[[dt.New(g9, g5.QueryArgs, g5.FormData, g5.Method, g5.Body), g3(g7, [])]];else { function g$(ha){ return(hb) =>(hc) => { if(ha.$==1){ const hd=ha.$1;return cA((he) =>((g$(hd))(he[0]))(dV.Cons(he[1], hc)), ha.$0.Parse(hb));} else return[[hb, g3(g7, bH(dP(hc)))]];};} return((g$(g_))(dt.New(g9, g5.QueryArgs, g5.FormData, g5.Method, g5.Body)))(dV.Empty);} } } else return[];}, g4), (g5) => { const g6=cD((hb) => { const hc=hb[0];return hc!=null&&hc.$==1&&w(g5, hc.$0);}, g2);const g7=g6!=null&&g6.$==1?g6.$0:g5.$;const g8=f(g2, g7);const g9=g8[2];const g_=f(g8[1], 0);const g$=[dt.Segment(dO(g_[1]), g_[0])];if(g9.length==0)return u0032(g$);else { const ha=bI((hb, hc) => hc.Write(hb), bL(h((f(g2, g7))[2]), (hb) => g5["$"+String(hb)]), g9);return bJ((hb) => hb!=null, ha)?u0032(cy(g$, cA((hb) => hb.$0, ha))):null;} });}
function dv(g1, g2){ return g2!=null&&g2.$==1?g1!=null&&g1.$==1?w(g2.$0, g1.$0):true:!(g1!=null&&g1.$==1);}
function dw(g1){ let g2;const g3=g1.s;if(g3==null||(g3!=null&&g3.$==2?(g2=g3.$1,false):g3!=null&&g3.$==3?(g2=g3.$1,false):true))void 0;else { g1.s=null;for(let g5=0, g6=h(g2)-1;g5<=g6;g5++){ const g4=f(g2, g5);if(typeof g4=="object")(((g7) => { dw(g7);})(g4));else g4();} } }
function dx(){ dy(dz()+1);return dz();}
function dy(g1){ eF.counter=g1;}
function dz(){ return eF.counter;}
function dA(g1, g2){ return{$:2, $0:g1, $1:g2};}
function dB(g1){ return{$:0, $0:g1};}
function dC(g1, g2){ return{$:3, $0:g1, $1:g2};}
function dD(){ throw new eG("New");}
function dE(g1){ return g1 instanceof Array?dF(g1):w(typeof g1, "string")?dG(g1):g1.GetEnumerator();}
function dF(g1){ return new dI(0, null, (g2) => { const g3=g2.s;return g3<h(g1)&&(g2.c=f(g1, g3),g2.s=g3+1,true);}, void 0);}
function dG(g1){ return new dI(0, null, (g2) => { const g3=g2.s;return g3<g1.length&&(g2.c=g1[g3],g2.s=g3+1,true);}, void 0);}
function dH(g1){ return g1 instanceof Array?dF(g1):w(typeof g1, "string")?dG(g1):"GetEnumerator0"in g1?g1.GetEnumerator0():g1.GetEnumerator();}
let dI=gS((g1) => class g2 extends m { static { dI=g1(this);} s;c;n;d;e;MoveNext(){ const g3=this.n(this);this.e=g3?1:2;return g3;} get Current(){ return this.e===1?this.c:this.e===0?j("Enumeration has not started. Call MoveNext."):j("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(g3, g4, g5, g6){ super();this.s=g3;this.c=g4;this.n=g5;this.d=g6;this.e=0;} });
function dJ(g1, g2){ return gK(g1, -2147483648, 2147483647, g2);}
function dK(g1, g2){ const g3=g2.IsEmpty?"":"?"+dM(g2);return"/"+dL(g1)+g3;}
function dL(g1){ let g2;const g3=[];g2=true;dQ((g4) => { if(!b3(g4)){ g2?g2=false:g3.push("/");g3.push(g4);} }, g1);return b4("", bK(g3));}
function dM(g1){ return bX("&", cC((g2) => g2[0]+"="+g2[1], er(g1)));}
function dN(g1, g2){ let g3;switch(g1.$==1?g2.$==1?w(g1.$0, g2.$0)?(g3=[g2.$0, g2.$1, g1.$0, g1.$1],1):2:2:0){ case 0:return u0032(g2);case 1:return dN(g3[3], g3[1]);case 2:return null;} }
function dO(g1){ let g2=dV.Empty;for(let g3=h(g1)-1, g4=0;g3>=g4;g3--)g2=dV.Cons(f(g1, g3), g2);return g2;}
function dP(g1){ let g2=dV.Empty;let g3=g1;while(g3.$==1){ g2=dV.Cons(g3.$0, g2);g3=g3.$1;} return g2;}
function dQ(g1, g2){ let g3=g2;while(g3.$==1){ g1(dS(g3));g3=dT(g3);} }
function dR(g1){ if(g1 instanceof dV)return g1;else if(g1 instanceof Array)return dO(g1);else { const g2=dE(g1);try { let g3;let g4=g2.MoveNext();if(!g4)return dV.Empty;else { const g5=gZ(dV, {$:1});g3=g5;while(g4){ g3.$0=g2.Current;if(g2.MoveNext()){ const g6=gZ(dV, {$:1});g3=(g3.$1=g6,g6);} else g4=false;} g3.$1=dV.Empty;return g5;} } finally { if(typeof g2=="object"&&a(g2))g2.Dispose();} } }
function dS(g1){ return g1.$==1?g1.$0:dU();}
function dT(g1){ return g1.$==1?g1.$1:dU();}
function dU(){ return j("The input list was empty.");}
let dV=gS((g1) => class g2 { static { dV=g1(this);} static Cons(g3, g4){ return gZ(g2, {$:1, $0:g3, $1:g4});} static Empty=gZ(dV, {$:0});GetEnumerator(){ return new dI(this, null, (g3) => { const g4=g3.s;return g4.$==0?false:(g3.c=g4.$0,g3.s=g4.$1,true);}, void 0);} });
let dW=gS((g1) => class g2 { static { dW=g1(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(g3){ return this.ElKey===g3.ElKey;} GetHashCode(){ return this.ElKey;} static New(g3, g4, g5, g6, g7, g8){ const g9={Attr:g3, Children:g4, El:g6, ElKey:g7};let g_=(gU(g9, "Delimiters", g5),gU(g9, "Render", g8),g9);return gZ(dW, g_);} });
let dX=gS((g1) => class g2 { static { dX=g1(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new b8("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new b8("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function dY(g1){ let g2=null;let g3=0;const g4=g1.textContent;const g5=new RegExp(dr(), "g");while(g2=g5.exec(g4),g2!==null){ g1.parentNode.insertBefore(globalThis.document.createTextNode(d6(g4, u0032(g3), u0032(g5.lastIndex-f(g2, 0).length-1))), g1);g3=g5.lastIndex;const g6=globalThis.document.createElement("span");g6.setAttribute("ws-replace", f(g2, 1).toLowerCase());g1.parentNode.insertBefore(g6, g1);} g5.lastIndex=0;g1.textContent=d6(g4, u0032(g3), null);}
function dZ(g1){ console.warn("Instantiating non-loaded template", g1);}
function d0(g1, g2, g3){ const g4=g1.querySelector("[ws-replace]");return w(g4, null)?(console.warn("Filling non-existent text hole", g3),null):(g4.parentNode.replaceChild(globalThis.document.createTextNode(g2), g4),u0032(g4.getAttribute("ws-replace")));}
function d1(g1, g2){ const g3=(g4) => { dk(g1, "["+g4+"]", (g5) => { if(!g2.Contains(g5.getAttribute(g4)))g5.removeAttribute(g4);});};g3("ws-attr");g3("ws-onafterrender");g3("ws-var");dk(g1, "[ws-hole]", (g4) => { if(!g2.Contains(g4.getAttribute("ws-hole"))){ g4.removeAttribute("ws-hole");while(g4.hasChildNodes())g4.removeChild(g4.lastChild);} });dk(g1, "[ws-replace]", (g4) => { if(!g2.Contains(g4.getAttribute("ws-replace")))g4.parentNode.removeChild(g4);});dk(g1, "[ws-on]", (g4) => { g4.setAttribute("ws-on", bX(" ", bT((g5) => g2.Contains(f(bZ(g5, [":"], 1), 1)), bZ(g4.getAttribute("ws-on"), [" "], 1))));});dk(g1, "[ws-attr-holes]", (g4) => { const g5=bZ(g4.getAttribute("ws-attr-holes"), [" "], 1);for(let g9=0, g_=g5.length-1;g9<=g_;g9++){ const g6=f(g5, g9);let g7=new RegExp(dr(), "g");let g8=g4.getAttribute(g6).replace(g7, (g$, ha) => g2.Contains(ha)?g$:"");g4.setAttribute(g6, g8);} });}
function d2(g1, g2){ d5(g2);const g3=g2.nodeName.toLowerCase();const g4=g1.querySelector("[ws-attr="+g3+"]");if(w(g4, null))console.warn("Filling non-existent attr hole", g3);else { g4.removeAttribute("ws-attr");for(let g6=0, g7=g2.attributes.length-1;g6<=g7;g6++){ const g5=g2.attributes.item(g6);if(g5.name=="class"&&g4.hasAttribute("class"))g4.setAttribute("class", g4.getAttribute("class")+" "+g5.nodeValue);else g4.setAttribute(g5.name, g5.nodeValue);} } }
function d3(g1, g2){ const g3=(g4) => { dk(g1, "["+g4+"]", (g5) => { let g6;const g7=(g6=null,[g2.TryGetValue(g5.getAttribute(g4).toLowerCase(), {get:() => g6, set:(g8) => { g6=g8;}}), g6]);if(g7[0])g5.setAttribute(g4, g7[1]);});};g3("ws-hole");g3("ws-replace");g3("ws-attr");g3("ws-onafterrender");g3("ws-var");dk(g1, "[ws-on]", (g4) => { g4.setAttribute("ws-on", bX(" ", bF((g5) => { let g6;const g7=bZ(g5, [":"], 1);const g8=(g6=null,[g2.TryGetValue(f(g7, 1), {get:() => g6, set:(g9) => { g6=g9;}}), g6]);return g8[0]?f(g7, 0)+":"+g8[1]:g5;}, bZ(g4.getAttribute("ws-on"), [" "], 1))));});dk(g1, "[ws-attr-holes]", (g4) => { const g5=bZ(g4.getAttribute("ws-attr-holes"), [" "], 1);for(let g6=0, g7=g5.length-1;g6<=g7;g6++)((() => { const g8=f(g5, g6);return g4.setAttribute(g8, cI((g9, g_) => { const g$=k(g_);return g9.replace(new RegExp("\\${"+g$[0]+"}", "ig"), "${"+g$[1]+"}");}, g4.getAttribute(g8), g2));})());});}
function d4(g1, g2, g3){ while(true){ if(g1.hasChildNodes())g3=g2.insertBefore(g1.lastChild, g3);else return null;} }
function d5(g1){ const g2=g1.attributes;const g3=[];const g4=[];const g5=[];for(let g_=0, g$=g2.length-1;g_<=g$;g_++){ const g6=g2.item(g_);if(bY(g6.nodeName, "ws-on")&&g6.nodeName!="ws-onafterrender"&&g6.nodeName!="ws-on"){ g3.push(g6.nodeName);g4.push(d6(g6.nodeName, u0032("ws-on".length), null)+":"+g6.nodeValue.toLowerCase());} else if(!bY(g6.nodeName, "ws-")&&(new RegExp(dr())).test(g6.nodeValue)){ let g7=new RegExp(dr(), "g");let g8=g6.nodeValue.replace(g7, (ha, hb) =>"${"+hb.toLowerCase()+"}");g6.nodeValue=g8;g5.push(g6.nodeName);} else void 0;} if(!(g4.length==0))g1.setAttribute("ws-on", bX(" ", g4));if(!(g5.length==0))g1.setAttribute("ws-attr-holes", bX(" ", g5));const g9=(ha) => { const hb=g1.getAttribute(ha);if(hb==null){ } else g1.setAttribute(ha, hb.toLowerCase());};g9("ws-hole");g9("ws-replace");g9("ws-attr");g9("ws-onafterrender");g9("ws-var");bP((ha) => { g1.removeAttribute(ha);}, g3);}
function d6(g1, g2, g3){ if(g2==null){ if(g3!=null&&g3.$==1){ const g4=g3.$0;return g4<0?"":g1.slice(0, g4+1);} else return"";} else if(g3==null)return g1.slice(g2.$0);else { const g5=g3.$0;return g5<0?"":g1.slice(g2.$0, g5+1);} }
function d7(g1){ const g2=globalThis.document.createElement("div");if(!d8().test(g1)){ g2.appendChild(globalThis.document.createTextNode(g1));return g2;} else { const g3=ea().exec(g1);const g4=w(g3, null)?"":f(g3, 1).toLowerCase();const g5=(d9())[g4];const g6=g5?g5:d_();g2.innerHTML=g6[1]+g1.replace(d$(), "<$1></$2>")+g6[2];function g7(g8, g9){ while(true){ if(g9===0)return g8;else { const g_=g9;g8=g8.lastChild;g9=g_-1;} } } return g7(g2, g6[0]);} }
function d8(){ return fT.rhtml;}
function d9(){ return fT.wrapMap;}
function d_(){ return fT.defaultWrap;}
function d$(){ return fT.rxhtmlTag;}
function ea(){ return fT.rtagName;}
function eb(g1, g2, g3){ const g4=g1.querySelectorAll(g2);for(let g5=0, g6=g4.length-1;g5<=g6;g5++)g3(g4[g5]);}
function ec(g1){ const g2=[];for(let g3=0, g4=g1.childNodes.length-1;g3<=g4;g3++)g2.push(g1.childNodes[g3]);return g2;}
function ed(g1, g2){ const g3=globalThis.document.querySelectorAll(g1);for(let g4=0, g5=g3.length-1;g4<=g5;g4++)g2(g3[g4]);}
function ee(g1, g2, g3){ let g4;if(g3.parentNode===g1){ const g5=g3.nextSibling;let g6=w(g5, null)?null:g5;g4=g2===g6;} else g4=false;if(!g4)g1.insertBefore(g3, g2);}
function ef(g1, g2){ if(g2.parentNode===g1)g1.removeChild(g2);}
let eg=gS((g1) => { gV(u0034);return class g2 extends u0034 { static { eg=g1(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(g3, g4){ const g5=fi.Create(g4);const g6=bF((g9) => eJ(g9[1]), g3.Attrs);let g7=ff(P(), T, g6);let g8=T(g7, g5.v);return new g2(cu(g3), g8, f(g3.Els, 0), g5);} constructor(g3, g4, g5, g6){ super(g3, g4);this.docNode_1=g3;this.updates_1=g4;this.elt=g5;this.rvUpdates=g6;} };});
function eh(){ return fs();}
function ei(g1){ const g2=null;return eu(() => ev(ek(() => { }, ft(g1)), () => { fu(g1);return ey(null);}));}
function ej(g1, g2){ return el(fV(g1.$0, g2.$0));}
function ek(g1, g2){ const g3=g2.Duration;if(g3===0)return ew();else { const g4=(g5) => { function g6(g7){ return(g8) => { const g9=g8-g7;g2.Compute(g9);g1();return g9<=g3?void requestAnimationFrame((g_) => {(g6(g7))(g_);}):g5();};} requestAnimationFrame((g7) => {(g6(g7))(g7);});};return eD((g5, g6, g7) => g4.apply(null, [g5, g6, g7]));} }
function el(g1){ return{$:0, $0:g1};}
function em(g1){ return el(fX(cC(fw, g1)));}
function en(){ return el(fY());}
function eo(){ return fA.BatchUpdatesEnabled;}
function ep(g1){ const g2=[0];function g3(){ const g4=null;return eu(() => ev(g1, () => { const g5=g2[0];return w(g5, 1)?(g2[0]=0,ew()):w(g5, 2)?(g2[0]=1,g3()):ew();}));} return() => { const g4=g2[0];if(w(g4, 0)){ g2[0]=1;ex(g3(), null);} else w(g4, 1)?g2[0]=2:void 0;};}
function eq(g1, g2, g3){ return cI((g4, g5) => g1(g5.Key, g5.Value, g4), g3, fB(true, g2.Tree));}
function er(g1){ return cC((g2) =>[g2.Key, g2.Value], fB(false, g1.Tree));}
function es(g1){ return new et("New_1", fE(cC((g2) => fJ.New(g2[0], g2[1]), g1)));}
let et=gS((g1) => class g2 extends m { static { et=g1(this);} tree;Add_1(g3, g4){ return new et("New_1", fC(fJ.New(g3, g4), this.tree));} get IsEmpty(){ return this.tree==null;} GetEnumerator(){ return dE(cC((g3) =>({K:g3.Key, V:g3.Value}), fB(false, this.tree)));} Equals(g3){ return this.Count===g3.Count&&cM(w, this, g3);} get Tree(){ return this.tree;} get Count(){ const g3=this.tree;return g3==null?0:g3.Count;} GetHashCode(){ return x(bK(this));} CompareTo0(g3){ return cZ(E, this, g3);} static New(g3){ return new this("New", g3);} static New_1(g3){ return new this("New_1", g3);} constructor(g3, g4){ let g5;if(g3=="New"){ g5=g4;g3="New_1";g4=fZ(g5);} if(g3=="New_1"){ const g6=g4;super();this.tree=g6;} } });
function eu(g1){ return(g2) => { try {(g1())(g2);} catch(g3){ g2.k(f5(g3));} };}
function ev(g1, g2){ return eA((g3) => { g1(f4((g4) => { if(g4.$==0){ const g5=g4.$0;ez().Fork(() => { try {(g2(g5))(g3);} catch(g6){ g3.k(f5(g6));} });} else ez().Fork(() => { g3.k(g4);});}, g3.ct));});}
function ew(){ return f8.Zero;}
function ex(g1, g2){ const g3=(eB())[0];const g4=g2==null?g3:g2.$0;ez().Fork(() => { if(!g4.c)g1(f4((g5) => { if(g5.$==1)eC(g5.$0);}, g4));});}
function ey(g1){ return(g2) => { g2.k(f6(g1));};}
function ez(){ return f8.scheduler;}
function eA(g1){ return(g2) => { if(g2.ct.c)eE(g2);else g1(g2);};}
function eB(){ return f8.defCTS;}
function eC(g1){ console.log("WebSharper: Uncaught asynchronous exception", g1);}
function eD(g1){ return(g2) => { const g3=[false];const g4=(g5) => { if(g3[0])j("A continuation provided by Async.FromContinuations was invoked multiple times");else { g3[0]=true;ez().Fork(g5);} };g1((g5) => { g4(() => { g2.k(f6(g5));});}, (g5) => { g4(() => { g2.k(f5(g5));});}, (g5) => { g4(() => { g2.k(f7(g5));});});};}
function eE(g1){ g1.k(f7(new gL("New", g1.ct)));}
let eF=gS((g1) => class g2 { static { eF=g1(this);} static counter;static { this.counter=0;} });
let eG=gS((g1) => { gV(Error);return class g2 extends Error { static { eG=g1(this);} static New(){ return new this("New");} static New_1(g3){ return new this("New_1", g3);} constructor(g3, g4){ if(g3=="New"){ g3="New_1";g4="The given key was not present in the dictionary.";} if(g3=="New_1"){ const g5=g4;super(g5);} } };});
function eH(g1, g2, g3, g4){ const g5={DynElem:g1, DynFlags:g2, DynNodes:g3};gU(g5, "OnAfterRender", g4);return g5;}
function eI(g1, g2){ const g3=[];const g4=[];function g5(g8){ while(true){ if(!(g8===null)){ if(g8!=null&&g8.$==1)return g3.push(g8.$0);else if(g8!=null&&g8.$==2){ const g9=g8.$1;const g_=g8.$0;g5(g_);g8=g9;} else return g8!=null&&g8.$==3?g8.$0(g1):g8!=null&&g8.$==4?g4.push(g8.$0):null;} else return null;} } g5(g2);const g6=g3.slice(0);let g7=eH(g1, eL(g2), g6, g4.length===0?null:u0032((g8) => { cL((g9) => { g9(g8);}, g4);}));return g7;}
function eJ(g1){ return fg((g2) => g2.NChanged, P(), T, g1.DynNodes);}
function eK(g1){ return eH(g1, 0, [], null);}
function eL(g1){ return g1!==null&&g1.hasOwnProperty("flags")?g1.flags:0;}
function eM(g1){ return fa.A3(g1);}
function eN(g1, g2){ return fa.A1(new f1(g1, g2));}
function eO(){ return f2.EmptyAttr;}
function eP(g1){ const g2=2;return(g1.DynFlags&g2)===g2;}
function eQ(g1){ return eW(g1, (g2, g3) => g2.NGetExitAnim(g3));}
function eR(g1){ const g2=1;return(g1.DynFlags&g2)===g2;}
function eS(g1){ return eW(g1, (g2, g3) => g2.NGetEnterAnim(g3));}
function eT(g1){ const g2=4;return(g1.DynFlags&g2)===g2;}
function eU(g1){ return eW(g1, (g2, g3) => g2.NGetChangeAnim(g3));}
function eV(g1, g2){ if(g1===null)return g2;else if(g2===null)return g1;else { const g3=fa.A2(g1, g2);eY(g3, eL(g1)|eL(g2));return g3;} }
function eW(g1, g2){ return em(bF((g3) => g2(g3, g1.DynElem), g1.DynNodes));}
function eX(g1, g2){ bP((g3) => { g3.NSync(g1);}, g2.DynNodes);}
function eY(g1, g2){ g1.flags=g2;}
let eZ=gS((g1) => { gV(o);return class g2 extends o { static { eZ=g1(this);} name;fillWith;get Value(){ return this.fillWith;} get ValueObj(){ return this.Value;} get Name(){ return this.name;} };});
let e0=gS((g1) => { gV(o);return class g2 extends o { static { e0=g1(this);} name;fillWith;get Value(){ return this.fillWith;} get ValueObj(){ return this.Value;} get Name(){ return this.name;} };});
function e1(g1, g2){ return eM((g3) => { g3.addEventListener(g1, (g4) =>(g2(g3))(g4), false);});}
function e2(g1){ return fa.A4(g1);}
function e3(g1, g2){ return eN(g2, (g3) =>(g4) => g3.setAttribute(g1, g4));}
function e4(g1){ return e_(gu(), g1);}
function e5(g1){ return e_(gv(), g1);}
function e6(g1){ return e_(gw(), g1);}
function e7(g1){ return e_(gx(), g1);}
function e8(g1){ return e_(gy(), g1);}
function e9(g1){ return e_(gz(), g1);}
function e_(g1, g2){ const g3=g1(g2);return fa.Append(eM(g3[0]), e$(g3[1], g3[2]));}
function e$(g1, g2){ return eN(g2, g1);}
let fa=gS((g1) => class g2 { static { fa=g1(this);} static Handler(g3, g4){ return fa.HandlerImpl(g3, g4);} static Concat(g3){ const g4=fh(g3);return ff(eO(), fa.Append, g4);} static Create(g3, g4){ return eM((g5) => { g5.setAttribute(g3, g4);});} static HandlerImpl(g3, g4){ return eM((g5) => { g5.addEventListener(g3, (g6) =>(g4(g5))(g6), false);});} static Append(g3, g4){ return eV(g3, g4);} static A4(g3){ return gZ(g2, {$:4, $0:g3});} static A3(g3){ return gZ(g2, {$:3, $0:g3});} static A1(g3){ return gZ(g2, {$:1, $0:g3});} static A2(g3, g4){ return gZ(g2, {$:2, $0:g3, $1:g4});} });
let fb=gS((g1) => { gV(o);return class g2 extends o { static { fb=g1(this);} name;fillWith;get Value(){ return this.fillWith;} get ValueObj(){ return this.Value;} get Name(){ return this.name;} };});
let fc=gS((g1) => { gV(o);return class g2 extends o { static { fc=g1(this);} name;fillWith;get Value(){ return this.fillWith;} get ValueObj(){ return this.Value;} get Name(){ return this.name;} };});
function fd(g1){ return{$:0, $0:g1};}
function fe(g1){ return{$:1, $0:g1};}
function ff(g1, g2, g3){ const g4=h(g3);function g5(g6){ return(g7) => { let g8;switch(g7<=0?0:g7===1?g6>=0&&g6<g4?1:(g8=g7,2):(g8=g7,2)){ case 0:return g1;case 1:return f(g3, g6);case 2:const g9=g7/2>>0;return g2((g5(g6))(g9), (g5(g6+g9))(g7-g9));} };} return(g5(0))(g4);}
function fg(g1, g2, g3, g4){ const g5=h(g4);function g6(g7){ return(g8) => { let g9;switch(g8<=0?0:g8===1?g7>=0&&g7<g5?1:(g9=g8,2):(g9=g8,2)){ case 0:return g2;case 1:return g1(f(g4, g7));case 2:const g_=g8/2>>0;return g3((g6(g7))(g_), (g6(g7+g_))(g8-g_));} };} return(g6(0))(g5);}
function fh(g1){ if(g1 instanceof Array)return g1;else if(g1 instanceof dV)return bH(g1);else if(g1===null)return[];else { const g2=[];const g3=dE(g1);try { while(g3.MoveNext())g2.push(g3.Current);return g2;} finally { if(typeof g3=="object"&&a(g3))g3.Dispose();} } }
let fi=gS((g1) => class g2 { static { fi=g1(this);} c;s;v;static Create(g3){ let g4;g4=null;g4=fi.New(g3, null, () => { let g5;g5=g4.s;return g5===null?(g5=bp(g4.c()),g4.s=g5,bd(g5, () => { g4.s=null;}),g5):g5;});return g4;} static New(g3, g4, g5){ return gZ(fi, {c:g3, s:g4, v:g5});} });
let fj=gS((g1) => class g2 extends m { static { fj=g1(this);} d;GetEnumerator(){ return dE(cC((g3) => g3.V, this.d));} constructor(g3){ super();this.d=g3;} });
function fk(g1, g2){ return{PreviousNodes:g1, Top:g2};}
function fl(){ return fn(new cx("New_3"));}
function fm(g1){ const g2=[];function g3(g6, g7){ while(true)switch(g6){ case 0:if(g7!=null&&g7.$==0){ const g8=g7.$1;const g9=g7.$0;g3(0, g9);g7=g8;} else if(g7!=null&&g7.$==1){ const g_=g7.$0;g7=g_;g6=1;} else if(g7!=null&&g7.$==2){ const g$=g7.$0;g7=g$.Current;} else if(g7!=null&&g7.$==6){ const ha=g7.$0.Holes;return(((hb) =>(hc) => { bP(hb, hc);})(g5))(ha);} else return null;break;case 1:g2.push(g7);g7=g7.Children;g6=0;break;} } function g4(g6){ return g3(0, g6);} function g5(g6){ return g3(1, g6);} g4(g1);return fn(new cx("New_2", g2));}
function fn(g1){ return{$:0, $0:g1};}
function fo(g1, g2){ return fn(f_(g1, g2.$0));}
function fp(g1, g2){ return fn(f$(g1.$0, g2.$0));}
function fq(g1){ return ga(g1.$0);}
function fr(g1, g2){ return fn(gb(g1.$0, g2.$0));}
function fs(){ return fU.UseAnimations;}
function ft(g1){ return fv(bG((g2) => g2.$==1?u0032(g2.$0):null, fW(g1.$0)));}
function fu(g1){ bP((g2) => { if(g2.$==0)g2.$0();}, fW(g1.$0));}
function fv(g1){ const g2=fh(g1);const g3=h(g2);if(g3===0)return fx();else if(g3===1)return f(g2, 0);else { const g4=cS(cC((g6) => g6.Duration, g2));const g5=bF((g6) => fz(g4, g6), g2);return fy(g4, (g6) => { bP((g7) => { g7.Compute(g6);}, g5);});} }
function fw(g1){ return g1.$0;}
function fx(g1){ return fy(0, () => g1);}
function fy(g1, g2){ return{Compute:g2, Duration:g1};}
function fz(g1, g2){ const g3=g2.Compute;const g4=g2.Duration;const g5=gM(() => g2.Compute(g2.Duration));return{Compute:(g6) => g6>=g4?g5.f():g3(g6), Duration:g1};}
let fA=gS((g1) => class g2 { static { fA=g1(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function fB(g1, g2){ function g3(g4, g5){ let g6;while(true){ if(g4==null)return g5.$==1?u0032([g5.$0[0], [g5.$0[1], g5.$1]]):null;else if(g1){ g6=g4;g4=g6.Right;g5=dV.Cons([g6.Node, g6.Left], g5);} else { g6=g4;g4=g6.Left;g5=dV.Cons([g6.Node, g6.Right], g5);} } } return cP((g4) => g3(g4[0], g4[1]), [g2, dV.Empty]);}
function fC(g1, g2){ return fD((g3, g4) => g4, g1, g2);}
function fD(g1, g2, g3){ const g4=fG(g2, g3);const g5=g4[0];return g5==null?fH(g4[1], fI(g2, null, null)):fH(g4[1], fI(g1(g5.Node, g2), g5.Left, g5.Right));}
function fE(g1){ const g2=bK(cT(g1));bV(g2);return fF(g2, 0, g2.length-1);}
function fF(g1, g2, g3){ if(g3-g2+1<=0)return null;else { const g4=(g2+g3)/2>>0;return fI(f(g1, g4), fF(g1, g2, g4-1), fF(g1, g4+1, g3));} }
function fG(g1, g2){ let g3=[];let g4=g2;let g5=true;while(g5)if(g4==null)g5=false;else { const g6=E(g1, g4.Node);if(g6===0)g5=false;else g6===1?(g3.unshift([true, g4.Node, g4.Left]),g4=g4.Right):(g3.unshift([false, g4.Node, g4.Right]),g4=g4.Left);} return[g4, g3];}
function fH(g1, g2){ const g3=(ha) => ha==null?0:ha.Height;let g4=g2;for(let ha=0, hb=h(g1)-1;ha<=hb;ha++){ const g5=f(g1, ha);if(g5[0]){ const g6=g5[1];const g7=g5[2];if(g3(g4)>g3(g7)+1){ if(g3(g4.Left)===g3(g4.Right)+1){ const g8=g4.Left;g4=fI(g8.Node, fI(g6, g7, g8.Left), fI(g4.Node, g8.Right, g4.Right));} else g4=fI(g4.Node, fI(g6, g7, g4.Left), g4.Right);} else g4=fI(g6, g7, g4);} else { const g9=g5[1];const g_=g5[2];if(g3(g4)>g3(g_)+1){ if(g3(g4.Right)===g3(g4.Left)+1){ const g$=g4.Right;g4=fI(g$.Node, fI(g4.Node, g4.Left, g$.Left), fI(g9, g$.Right, g_));} else g4=fI(g4.Node, g4.Left, fI(g9, g4.Right, g_));} else g4=fI(g9, g4, g_);} } return g4;}
function fI(g1, g2, g3){ const g4=g2==null?0:g2.Height;const g5=g3==null?0:g3.Height;let g6=E(g4, g5)===1?g4:g5;let g7=1+g6;return fK(g1, g2, g3, g7, 1+(g2==null?0:g2.Count)+(g3==null?0:g3.Count));}
let fJ=gS((g1) => class g2 { static { fJ=g1(this);} Key;Value;Equals(g3){ return w(this.Key, g3.Key);} GetHashCode(){ return x(this.Key);} CompareTo0(g3){ return E(this.Key, g3.Key);} static New(g3, g4){ return gZ(fJ, {Key:g3, Value:g4});} });
function fK(g1, g2, g3, g4, g5){ return{Node:g1, Left:g2, Right:g3, Height:g4, Count:g5};}
function fL(g1){ g1.splice(0, h(g1));}
function fM(){ return j("The input sequence has an insufficient number of elements.");}
function fN(g1, g2){ for(let g3=0, g4=g2.length-1;g3<=g4;g3++)g2[g3]=g1(g3, g2[g3]);return g2;}
function fO(g1, g2){ for(let g3=0, g4=g2.length-1;g3<=g4;g3++)g2[g3]=g1(g2[g3]);}
function fP(g1, g2){ let g3=true;let g4=0;while(g3&&g4<h(g2))if(w(g2[g4], g1))g3=false;else g4=g4+1;return!g3;}
function fQ(){ return j("The input must be non-negative.");}
let fR=gS((g1) => class g2 extends m { static { fR=g1(this);} d;GetEnumerator(){ return dE(cC((g3) => g3.K, this.d));} constructor(g3){ super();this.d=g3;} });
function fS(g1){ let g2=[];let g3;for(var g4 in g1)g2.push.apply(g2, g1[g4]);return g2;}
let fT=gS((g1) => class g2 { static { fT=g1(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const g3=[1, "<table>", "</table>"];let g4=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", g3], ["tbody", g3], ["tfoot", g3], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=g4;this.defaultWrap=[0, "", ""];} });
let fU=gS((g1) => class g2 { static { fU=g1(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=f3.Custom((g3) => { const g4=g3*g3;return 3*g4-2*(g4*g3);});this.UseAnimations=true;} });
function fV(g1, g2){ return g1.$==0?g2:g2.$==0?g1:{$:2, $0:g1, $1:g2};}
function fW(g1){ const g2=[];function g3(g4){ while(true){ if(g4.$==1)return g2.push(g4.$0);else if(g4.$==2){ const g5=g4.$1;const g6=g4.$0;g3(g6);g4=g5;} else return g4.$==3?bP((g7) => { g2.push(g7);}, g4.$0):null;} } g3(g1);return g2.slice(0);}
function fX(g1){ const g2=fh(g1);return ff(fY(), fV, g2);}
function fY(){ return gP.Empty;}
function fZ(g1){ const g2=bK(cC((g3) => fJ.New(g3[0], g3[1]), cO((g3) => g3[0], cN(g1))));bV(g2);return fF(g2, 0, g2.length-1);}
let f0=gS((g1) => class g2 extends m { static { f0=g1(this);} idle;robin;Fork(g3){ this.robin.push(g3);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const g3=Date.now();let g4=true;while(g4)if(this.robin.length===0){ this.idle=true;g4=false;} else {(this.robin.shift())();Date.now()-g3>40?(setTimeout(() => { this.tick();}, 0),g4=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let f1=gS((g1) => class g2 extends m { static { f1=g1(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(g3){ return en();} NGetEnterAnim(g3){ return en();} NGetChangeAnim(g3){ return en();} NSync(g3){ if(this.dirty){(this.push(g3))(this.value);this.dirty=false;} } constructor(g3, g4){ super();this.push=g4;this.value=void 0;this.dirty=false;this.updates=K((g5) => { this.value=g5;this.dirty=true;}, g3);} });
let f2=gS((g1) => class g2 { static { f2=g1(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(hh) =>[(hi) => { hi.addEventListener("change", () => hh.Get()!=hi.checked?hh.Set(hi.checked):null);}, (hi) =>(hj) => hj!=null&&hj.$==1?void(hi.checked=hj.$0):null, K(u0032, hh.View)];this.StringSet=(hh) =>(hi) => { hh.value=hi;};this.StringGet=(hh) => u0032(hh.value);const g3=ge();const g4=gd();this.StringApply=(hh) => gc(g3, g4, hh);this.StringListSet=(hh) =>(hi) => { const hj=hh.options;for(let hk=0, hl=hj.length-1;hk<=hl;hk++)((() => { const hm=hj.item(hk);hm.selected=fP(hm.value, hi);})());};this.StringListGet=(hh) => { const hi=hh.selectedOptions;return u0032(bK(cR(() => cA((hj) =>[hi.item(hj).value], l(0, hi.length-1)))));};const g5=gg();const g6=gf();this.StringListApply=(hh) => gc(g5, g6, hh);this.DateTimeSetUnchecked=(hh) =>(hi) => { hh.value=(new Date(hi)).toLocaleString();};this.DateTimeGetUnchecked=(hh) => { let hi;let hj;const hk=hh.value;if(gA(hk))return u0032(-8640000000000000);else { hi=0;const hl=gJ(hk);let hm=hl!=null&&hl.$==1&&(hi=hl.$0,true);hj=[hm, hi];return hj[0]?u0032(hj[1]):null;} };const g7=gi();const g8=gh();this.DateTimeApplyUnchecked=(hh) => gc(g7, g8, hh);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(hh) => { const hi=hh.files;return u0032(bK(cR(() => cC((hj) => hi.item(hj), l(0, hi.length-1)))));};const g9=gl();const g_=gk();this.FileApplyUnchecked=(hh) => gj(g9, g_, hh);this.IntSetUnchecked=(hh) =>(hi) => { hh.value=String(hi);};this.IntGetUnchecked=(hh) => { const hi=hh.value;if(gA(hi))return u0032(0);else { const hj=+hi;return hj!==hj>>0?null:u0032(hj);} };const g$=gn();const ha=gm();this.IntApplyUnchecked=(hh) => gc(g$, ha, hh);this.IntSetChecked=(hh) =>(hi) => { const hj=hi.Input;return hh.value!=hj?void(hh.value=hj):null;};this.IntGetChecked=(hh) => { let hi;let hj;const hk=hh.value;if(gA(hk))hi=(hh.checkValidity?hh.checkValidity():true)?gB.Blank(hk):gB.Invalid(hk);else { const hl=(hj=0,[dJ(hk, {get:() => hj, set:(hm) => { hj=hm;}}), hj]);hi=hl[0]?gB.Valid(hl[1], hk):gB.Invalid(hk);} return u0032(hi);};const hb=gp();const hc=go();this.IntApplyChecked=(hh) => gc(hb, hc, hh);this.FloatSetUnchecked=(hh) =>(hi) => { hh.value=String(hi);};this.FloatGetUnchecked=(hh) => { const hi=hh.value;if(gA(hi))return u0032(0);else { const hj=+hi;return isNaN(hj)?null:u0032(hj);} };const hd=gr();const he=gq();this.FloatApplyUnchecked=(hh) => gc(hd, he, hh);this.FloatSetChecked=(hh) =>(hi) => { const hj=hi.Input;return hh.value!=hj?void(hh.value=hj):null;};this.FloatGetChecked=(hh) => { let hi;const hj=hh.value;if(gA(hj))hi=(hh.checkValidity?hh.checkValidity():true)?gB.Blank(hj):gB.Invalid(hj);else { const hk=+hj;hi=isNaN(hk)?gB.Invalid(hj):gB.Valid(hk, hj);} return u0032(hi);};const hf=gt();const hg=gs();this.FloatApplyChecked=(hh) => gc(hf, hg, hh);} });
let f3=gS((g1) => class g2 extends m { static { f3=g1(this);} transformTime;static Custom(g3){ return new g2(g3);} constructor(g3){ super();this.transformTime=g3;} });
function f4(g1, g2){ return{k:g1, ct:g2};}
function f5(g1){ return{$:1, $0:g1};}
function f6(g1){ return{$:0, $0:g1};}
function f7(g1){ return{$:2, $0:g1};}
let f8=gS((g1) => class g2 { static { f8=g1(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=f9(false, []);this.scheduler=new f0();this.defCTS=[new gC()];this.Zero=ey();this.GetCT=(g3) => { g3.k(f6(g3.ct));};} });
function f9(g1, g2){ return{c:g1, r:g2};}
function f_(g1, g2){ return new cx("New_2", bT(g1, ga(g2)));}
function f$(g1, g2){ const g3=new cx("New_2", ga(g2));g3.ExceptWith(ga(g1));return g3;}
function ga(g1){ const g2=bW(g1.Count, void 0);g1.CopyTo(g2, 0);return g2;}
function gb(g1, g2){ const g3=new cx("New_2", ga(g1));g3.IntersectWith(ga(g2));return g3;}
function gc(g1, g2, g3){ let g4;g4=null;return[(g5) => { const g6=() => { g3.UpdateMaybe((g7) => { let g8;g4=g1(g5);return g4!=null&&g4.$==1&&(!w(g4.$0, g7)&&(g8=[g4, g4.$0],true))?g8[0]:null;});};g5.addEventListener("change", g6);g5.addEventListener("input", g6);g5.addEventListener("keypress", g6);}, (g5) => { const g6=g2(g5);return(g7) => g7==null?null:g6(g7.$0);}, K((g5) => { let g6;return g4!=null&&g4.$==1&&(w(g4.$0, g5)&&(g6=g4.$0,true))?null:u0032(g5);}, g3.View)];}
function gd(){ return f2.StringSet;}
function ge(){ return f2.StringGet;}
function gf(){ return f2.StringListSet;}
function gg(){ return f2.StringListGet;}
function gh(){ return f2.DateTimeSetUnchecked;}
function gi(){ return f2.DateTimeGetUnchecked;}
function gj(g1, g2, g3){ let g4;g4=null;return[(g5) => { g5.addEventListener("change", () => { g3.UpdateMaybe((g6) => { let g7;g4=g1(g5);return g4!=null&&g4.$==1&&(g4.$0!==g6&&(g7=[g4, g4.$0],true))?g7[0]:null;});});}, (g5) => { const g6=g2(g5);return(g7) => g7==null?null:g6(g7.$0);}, K((g5) => { let g6;return g4!=null&&g4.$==1&&(w(g4.$0, g5)&&(g6=g4.$0,true))?null:u0032(g5);}, g3.View)];}
function gk(){ return f2.FileSetUnchecked;}
function gl(){ return f2.FileGetUnchecked;}
function gm(){ return f2.IntSetUnchecked;}
function gn(){ return f2.IntGetUnchecked;}
function go(){ return f2.IntSetChecked;}
function gp(){ return f2.IntGetChecked;}
function gq(){ return f2.FloatSetUnchecked;}
function gr(){ return f2.FloatGetUnchecked;}
function gs(){ return f2.FloatSetChecked;}
function gt(){ return f2.FloatGetChecked;}
function gu(){ return f2.StringApply;}
function gv(){ return f2.FloatApplyUnchecked;}
function gw(){ return f2.BoolCheckedApply;}
function gx(){ return f2.DateTimeApplyUnchecked;}
function gy(){ return f2.FileApplyUnchecked;}
function gz(){ return f2.StringListApply;}
function gA(g1){ return b6(gI, g1);}
let gB=gS((g1) => class g2 { static { gB=g1(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(g3){ return gZ(g2, {$:2, $0:g3});} static Invalid(g3){ return gZ(g2, {$:1, $0:g3});} static Valid(g3, g4){ return gZ(g2, {$:0, $0:g3, $1:g4});} });
let gC=gS((g1) => class g2 extends m { static { gC=g1(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function gD(g1, g2){ let g3;if(g2!=null&&g2.$==1){ const g4=[];g3=g2.$0[0].nextSibling;while(g3!==g2.$0[1]){ g4.push(g3);g3=g3.nextSibling;} return gH(g4);} else { let g5=g1.childNodes.length;const g6=g1.childNodes;let g7=bL(g5, (g8) => g6[g8]);return gH(g7);} }
function gE(g1, g2){ const g3=g1.$0;return gH(bT((g4) => bJ((g5) =>!(g4===g5), g3), g2.$0));}
function gF(g1, g2){ bP(g1, g2.$0);}
function gG(g1){ const g2=[];function g3(g4){ while(true){ if(g4!=null&&g4.$==2){ const g5=g4.$0;g4=g5.Current;} else if(g4!=null&&g4.$==1)return g2.push(g4.$0.El);else if(g4==null)return null;else if(g4!=null&&g4.$==5)return g2.push(g4.$0);else if(g4!=null&&g4.$==4)return g2.push(g4.$0.Text);else if(g4!=null&&g4.$==6){ const g6=g4.$0.Els;return(((g9) =>(g_) => { bP(g9, g_);})((g9) => { if(g9==null||g9.constructor===Object)g3(g9);else g2.push(g9);}))(g6);} else { const g7=g4.$1;const g8=g4.$0;g3(g8);g4=g7;} } } g3(g1.Children);return gH(fh(g2));}
function gH(g1){ return{$:0, $0:g1};}
function gI(g1){ return g1.match(new RegExp("\\s"))!==null;}
function gJ(g1){ const g2=Date.parse(g1);return isNaN(g2)?null:u0032(g2);}
function gK(g1, g2, g3, g4){ const g5=+g1;const g6=g5===g5-g5%1&&g5>=g2&&g5<=g3;if(g6)g4.set(g5);return g6;}
let gL=gS((g1) => { gV(Error);return class g2 extends Error { static { gL=g1(this);} ct;static New(g3){ return new this("New", g3);} static New_1(g3, g4, g5){ return new this("New_1", g3, g4, g5);} constructor(g3, g4, g5, g6){ let g7;if(g3=="New"){ g7=g4;g3="New_1";g4="The operation was canceled.";g5=null;g6=g7;} if(g3=="New_1"){ const g8=g4;const g9=g5;const g_=g6;super(g8);this.inner=g9;this.ct=g_;} } };});
function gM(g1){ return gQ(false, g1, gN);}
function gN(){ const g1=this.v();this.c=true;this.v=g1;this.f=gO;return g1;}
function gO(){ return this.v;}
let gP=gS((g1) => class g2 { static { gP=g1(this);} static Empty;static { this.Empty={$:0};} });
function gQ(g1, g2, g3){ return{c:g1, v:g2, f:g3};}
g0(() => { b();});
gR();

